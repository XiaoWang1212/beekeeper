{"version":3,"file":"js/app.b5969d1d.js","mappings":"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","sources":["webpack://beekeeper/./src/App.vue","webpack://beekeeper/./src/App.vue?7ccd","webpack://beekeeper/./src/views/LoginView.vue","webpack://beekeeper/./src/views/LoginView.vue?5755","webpack://beekeeper/./src/views/GameView.vue","webpack://beekeeper/./src/components/ForagingModal.vue","webpack://beekeeper/./src/components/ForagingModal.vue?c02f","webpack://beekeeper/./src/components/LaborTaskModal.vue","webpack://beekeeper/./src/components/LaborTaskModal.vue?a16c","webpack://beekeeper/./src/components/HoneyStorageModal.vue","webpack://beekeeper/./src/components/HoneyStorageModal.vue?9a6a","webpack://beekeeper/./src/components/TasksModal.vue","webpack://beekeeper/./src/components/TasksModal.vue?2691","webpack://beekeeper/./src/components/AchievementsModal.vue","webpack://beekeeper/./src/components/AchievementsModal.vue?43ac","webpack://beekeeper/./src/views/GameView.vue?3e8c","webpack://beekeeper/./src/router/index.js","webpack://beekeeper/./src/store/modules/bees.js","webpack://beekeeper/./src/store/modules/honey.js","webpack://beekeeper/./src/store/modules/orders.js","webpack://beekeeper/./src/store/modules/foraging.js","webpack://beekeeper/./src/store/modules/challenges.js","webpack://beekeeper/./src/store/modules/weather.js","webpack://beekeeper/./src/store/modules/laborTasks.js","webpack://beekeeper/./src/store/modules/tasks.js","webpack://beekeeper/./src/store/modules/achievements.js","webpack://beekeeper/./src/store/helpers/persistence.js","webpack://beekeeper/./src/store/index.js","webpack://beekeeper/./src/main.js","webpack://beekeeper/webpack/bootstrap","webpack://beekeeper/webpack/runtime/chunk loaded","webpack://beekeeper/webpack/runtime/define property getters","webpack://beekeeper/webpack/runtime/global","webpack://beekeeper/webpack/runtime/hasOwnProperty shorthand","webpack://beekeeper/webpack/runtime/publicPath","webpack://beekeeper/webpack/runtime/jsonp chunk loading","webpack://beekeeper/webpack/startup"],"sourcesContent":["<template>\n  <router-view/>\n</template>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=7f052760\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=7f052760&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"login-container\">\n    <div class=\"login-card\">\n      <h1>養蜂達人</h1>\n      <div class=\"game-description\">\n        <p>歡迎來到養蜂達人！開始你的養蜂生涯吧！</p>\n      </div>\n      \n      <div class=\"bee-animation\">\n        <img src=\"@/assets/images/honeybee.png\" alt=\"蜜蜂\" class=\"bee-icon\" />\n      </div>\n      \n      <form @submit.prevent=\"handleSubmit\" class=\"login-form\">\n        <!-- 切換登入/註冊模式 -->\n        <div class=\"mode-switch\">\n          <button \n            type=\"button\" \n            :class=\"['mode-button', { active: mode === 'login' }]\"\n            @click=\"mode = 'login'\"\n          >\n            登入\n          </button>\n          <button \n            type=\"button\" \n            :class=\"['mode-button', { active: mode === 'register' }]\"\n            @click=\"mode = 'register'\"\n          >\n            註冊\n          </button>\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"username\">帳號</label>\n          <input \n            type=\"text\" \n            id=\"username\" \n            v-model=\"username\" \n            placeholder=\"請輸入帳號\" \n            maxlength=\"20\"\n            required\n          />\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"password\">密碼</label>\n          <input \n            type=\"password\" \n            id=\"password\" \n            v-model=\"password\" \n            placeholder=\"請輸入密碼\" \n            required\n          />\n        </div>\n        \n        <div class=\"form-group\" v-if=\"mode === 'register'\">\n          <label for=\"characterName\">你的養蜂人名稱</label>\n          <input \n            type=\"text\" \n            id=\"characterName\" \n            v-model=\"characterName\" \n            placeholder=\"請輸入你的名稱\" \n            maxlength=\"12\"\n            required\n          />\n        </div>\n        \n        <div class=\"message\" v-if=\"message\" :class=\"messageType\">{{ message }}</div>\n        \n        <button type=\"submit\" class=\"submit-button\" :disabled=\"!canSubmit\">\n          {{ mode === 'login' ? '登入遊戲' : '創建帳號' }}\n        </button>\n      </form>\n      \n      <div class=\"game-features\">\n        <h3>遊戲特色</h3>\n        <ul>\n          <li>🐝 建立你自己的蜂場</li>\n          <li>🌼 派遣蜜蜂採集各種花蜜</li>\n          <li>🏆 升級你的蜂巢，增加產量</li>\n          <li>⚡ 應對各種自然挑戰和病蟲害</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'LoginView',\n  data() {\n    return {\n      mode: 'login',  // 'login' 或 'register'\n      username: '',\n      password: '',\n      characterName: '',\n      message: '',\n      messageType: 'info',\n      accounts: {}  // 存儲帳號信息\n    };\n  },\n  computed: {\n    canSubmit() {\n      if (this.mode === 'login') {\n        return this.username.trim().length >= 3 && this.password.length >= 4;\n      } else {\n        return this.username.trim().length >= 3 && \n               this.password.length >= 4 && \n               this.characterName.trim().length >= 2;\n      }\n    }\n  },\n  mounted() {\n    // 載入已存在的帳號\n    this.loadAccounts();\n    \n    // 從 URL 獲取可能的錯誤訊息\n    if (this.$route.query.error) {\n      this.message = decodeURIComponent(this.$route.query.error);\n      this.messageType = 'error';\n      this.$router.replace({ path: this.$route.path });\n    }\n  },\n  methods: {\n    handleSubmit() {\n      if (!this.canSubmit) return;\n      \n      if (this.mode === 'login') {\n        this.loginUser();\n      } else {\n        this.registerUser();\n      }\n    },\n    \n    loginUser() {\n      // 檢查帳號是否存在\n      if (!this.accounts[this.username]) {\n        this.message = '帳號不存在';\n        this.messageType = 'error';\n        return;\n      }\n      \n      // 檢查密碼是否正確\n      if (this.accounts[this.username].password !== this.password) {\n        this.message = '密碼不正確';\n        this.messageType = 'error';\n        return;\n      }\n      \n      // 登入成功，載入該帳號的遊戲數據\n      this.message = '登入成功，正在載入遊戲...';\n      this.messageType = 'success';\n      \n      // 設定當前使用者\n      localStorage.setItem('beekeeper_current_user', this.username);\n      localStorage.setItem('beekeeper_name', this.accounts[this.username].characterName);\n      \n      // 導航到遊戲頁面\n      setTimeout(() => {\n        this.$router.push('/game');\n      }, 1000);\n    },\n    \n    registerUser() {\n      // 檢查帳號是否已存在\n      if (this.accounts[this.username]) {\n        this.message = '此帳號已被使用';\n        this.messageType = 'error';\n        return;\n      }\n      \n      // 創建新帳號\n      this.accounts[this.username] = {\n        password: this.password,\n        characterName: this.characterName,\n        created: Date.now()\n      };\n      \n      // 保存帳號信息\n      this.saveAccounts();\n      \n      // 設定當前使用者\n      localStorage.setItem('beekeeper_current_user', this.username);\n      localStorage.setItem('beekeeper_name', this.characterName);\n      localStorage.setItem('beekeeper_new_game', 'true');  // 新帳號需要新遊戲\n      \n      this.message = '帳號創建成功，正在進入遊戲...';\n      this.messageType = 'success';\n      \n      // 導航到遊戲頁面\n      setTimeout(() => {\n        this.$router.push('/game');\n      }, 1000);\n    },\n    \n    loadAccounts() {\n      // 從 localStorage 載入帳號信息\n      const accountsData = localStorage.getItem('beekeeper_accounts');\n      if (accountsData) {\n        try {\n          this.accounts = JSON.parse(accountsData);\n        } catch (e) {\n          console.error('解析帳號數據時出錯:', e);\n          this.accounts = {};\n        }\n      }\n      \n      // 如果有記住的用戶名，自動填充\n      const lastUser = localStorage.getItem('beekeeper_current_user');\n      if (lastUser && this.accounts[lastUser]) {\n        this.username = lastUser;\n      }\n    },\n    \n    saveAccounts() {\n      // 將帳號信息保存到 localStorage\n      localStorage.setItem('beekeeper_accounts', JSON.stringify(this.accounts));\n    }\n  }\n};\n</script>\n\n<style scoped>\n.login-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  background-size: cover;\n  background-position: center;\n  padding: 20px;\n}\n\n.login-card {\n  background-color: rgba(255, 255, 255, 0.9);\n  border-radius: 15px;\n  padding: 30px;\n  width: 100%;\n  max-width: 450px;\n  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);\n  text-align: center;\n  position: relative;\n}\n\nh1 {\n  color: #d4a017;\n  margin-bottom: 15px;\n  font-size: 2.5rem;\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);\n}\n\n.game-description {\n  margin-bottom: 20px;\n  color: #5d4215;\n  font-size: 1.1rem;\n}\n\n.bee-animation {\n  margin: 15px 0;\n  height: 80px;\n  position: relative;\n}\n\n.bee-icon {\n  width: 60px;\n  height: 60px;\n  animation: flyBee 3s infinite alternate ease-in-out;\n  position: relative;\n}\n\n@keyframes flyBee {\n  0% { transform: translate(-30px, 5px) rotate(5deg); }\n  50% { transform: translate(30px, -10px) rotate(-5deg); }\n  100% { transform: translate(-10px, 0) rotate(10deg); }\n}\n\n.login-form {\n  margin: 20px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n}\n\n.mode-switch {\n  display: flex;\n  width: 100%;\n  margin-bottom: 20px;\n  border-radius: 25px;\n  overflow: hidden;\n  border: 2px solid #ffd24d;\n}\n\n.mode-button {\n  flex: 1;\n  padding: 10px;\n  border: none;\n  background-color: #f9f5ea;\n  color: #8c6d3c;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.mode-button.active {\n  background-color: #ffc226;\n  color: #5d4215;\n}\n\n.form-group {\n  width: 100%;\n  margin-bottom: 20px;\n}\n\nlabel {\n  display: block;\n  margin-bottom: 8px;\n  font-weight: bold;\n  color: #5d4215;\n  font-size: 1.1rem;\n  text-align: left;\n}\n\ninput {\n  width: 100%;\n  padding: 12px 15px;\n  border: 2px solid #ffd24d;\n  border-radius: 25px;\n  font-size: 1rem;\n  background-color: rgba(255, 255, 255, 0.8);\n  color: #5d4215;\n}\n\ninput:focus {\n  outline: none;\n  border-color: #d4a017;\n  box-shadow: 0 0 0 3px rgba(212, 160, 23, 0.3);\n}\n\n.submit-button {\n  margin-top: 10px;\n  padding: 12px 24px;\n  border: none;\n  border-radius: 25px;\n  font-size: 1.1rem;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.2s;\n  width: 180px;\n  background-color: #ffc226;\n  color: #5d4215;\n}\n\n.submit-button:hover {\n  background-color: #ffb300;\n  transform: translateY(-2px);\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n}\n\n.submit-button:disabled {\n  background-color: #d6d6d6;\n  color: #888;\n  cursor: not-allowed;\n  transform: none;\n  box-shadow: none;\n}\n\n.message {\n  margin: 15px 0;\n  padding: 10px;\n  border-radius: 5px;\n  width: 100%;\n}\n\n.message.info {\n  color: #0c5460;\n  background-color: #d1ecf1;\n  border: 1px solid #bee5eb;\n}\n\n.message.error {\n  color: #721c24;\n  background-color: #f8d7da;\n  border: 1px solid #f5c6cb;\n}\n\n.message.success {\n  color: #155724;\n  background-color: #d4edda;\n  border: 1px solid #c3e6cb;\n}\n\n.game-features {\n  margin-top: 30px;\n  text-align: left;\n  background-color: rgba(255, 248, 230, 0.7);\n  padding: 15px;\n  border-radius: 10px;\n}\n\n.game-features h3 {\n  color: #d4a017;\n  margin-bottom: 10px;\n  text-align: center;\n}\n\n.game-features ul {\n  padding-left: 20px;\n}\n\n.game-features li {\n  margin-bottom: 8px;\n  color: #5d4215;\n}\n\n@media (max-width: 480px) {\n  .login-card {\n    padding: 20px;\n  }\n  \n  h1 {\n    font-size: 2rem;\n  }\n  \n  .game-description {\n    font-size: 1rem;\n  }\n  \n  .form-group {\n    margin-bottom: 15px;\n  }\n  \n  input {\n    padding: 10px 12px;\n  }\n  \n  .submit-button {\n    width: 100%;\n    padding: 10px 20px;\n  }\n}\n</style>","import { render } from \"./LoginView.vue?vue&type=template&id=3d700dee&scoped=true\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=3d700dee&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3d700dee\"]])\n\nexport default __exports__","<template>\n  <div class=\"game-container\">\n    <header>\n      <h1>養蜂達人</h1>\n      <div class=\"weather-display\">\n        <span id=\"weather-icon\">{{ currentWeather.icon }}</span>\n        <span id=\"weather-status\">{{ currentWeather.name }}</span>\n      </div>\n    </header>\n\n    <div class=\"resources-panel\">\n      <div class=\"resource\">\n        <img\n          src=\"@/assets/images/honeybee.png\"\n          alt=\"蜜蜂\"\n          class=\"resource-icon\"\n        />\n        <div class=\"resource-info\">\n          <span class=\"resource-name\">蜜蜂</span>\n          <span>{{ availableBees }}</span>\n        </div>\n      </div>\n      <div class=\"resource\">\n        <img\n          src=\"@/assets/images/honeyTotal.png\"\n          alt=\"蜂蜜\"\n          class=\"resource-icon\"\n        />\n        <div class=\"resource-info\">\n          <span class=\"resource-name\">蜂蜜 (kg)</span>\n          <span>{{ honey.toFixed(1) }}</span>\n        </div>\n      </div>\n      <div class=\"resource\">\n        <img src=\"@/assets/images/coin.png\" alt=\"金錢\" class=\"resource-icon\" />\n        <div class=\"resource-info\">\n          <span class=\"resource-name\">金錢</span>\n          <span>{{ money }}</span>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"hive-display\">\n      <h2>蜂巢狀況</h2>\n      <div class=\"hive-container\" ref=\"hiveContainer\">\n        <!-- 蜂巢將由Vue動態生成 -->\n      </div>\n      <div class=\"hive-stats\">\n        <div>\n          健康度: <span :style=\"healthColorStyle\">{{ hiveHealth }}%</span>\n        </div>\n        <div>\n          等級: <span>{{ hiveLevel }}</span>\n        </div>\n        <div>\n          產蜜效率:\n          <span>{{ honeyPerBeePerMinute.toFixed(2) }} kg/分鐘/蜂</span>\n        </div>\n        <div>\n          蜂箱容量: <span>{{ hiveCapacity }} 隻</span>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"action-panel\">\n      <button\n        @click=\"collectHoney\"\n        :disabled=\"!canCollectHoney\"\n        class=\"game-button\"\n      >\n        採集蜂蜜\n      </button>\n      <button @click=\"buyBee\" :disabled=\"!canBuyBee\" class=\"game-button\">\n        購買蜜蜂 (¥{{ beeCost }})\n      </button>\n      <button\n        @click=\"upgradeHive\"\n        :disabled=\"!canUpgradeHive\"\n        class=\"game-button\"\n      >\n        升級蜂巢 (¥{{ hiveUpgradeCost }})\n      </button>\n      <button @click=\"checkHive\" class=\"game-button\">檢查蜂巢</button>\n      <button @click=\"openForagingModal\" class=\"game-button special\">\n        採蜜任務\n      </button>\n      <button\n        @click=\"openHoneyStorage\"\n        class=\"game-button honey-storage-button\"\n        :disabled=\"disableButtons\"\n      >\n        <span class=\"icon\">🍯</span>\n        蜂蜜倉庫\n        <span class=\"badge\" v-if=\"hasNewOrders\">!</span>\n      </button>\n    </div>\n\n    <!-- 在 resources-panel 的下方添加兩個小框框 -->\n    <div class=\"game-panels\">\n      <div class=\"panel-buttons\">\n        <button @click=\"openTasksPanel\" class=\"panel-button tasks-button\">\n          <span class=\"icon\">📋</span>\n          任務\n          <span class=\"badge\" v-if=\"hasNewTasks\">!</span>\n        </button>\n\n        <button\n          @click=\"openAchievementsPanel\"\n          class=\"panel-button achievements-button\"\n        >\n          <span class=\"icon\">🏆</span>\n          成就\n          <span class=\"badge\" v-if=\"hasNewAchievements\">!</span>\n        </button>\n      </div>\n    </div>\n\n    <div class=\"challenges-panel\">\n      <h2>養蜂挑戰</h2>\n      <div\n        :class=\"['challenge-card', currentChallenge?.type]\"\n        v-if=\"currentChallenge\"\n        v-show=\"!challengeHidden\"\n      >\n        <h3>{{ currentChallenge.data.title }}</h3>\n        <p>{{ currentChallenge.data.description }}</p>\n        <div class=\"challenge-actions\">\n          <button\n            v-for=\"(solution, index) in currentChallenge.data.solutions\"\n            :key=\"index\"\n            @click=\"applySolution(solution)\"\n            class=\"challenge-button\"\n          >\n            {{ solution.name }}\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"notification-area\">\n      <!-- 通知將由Vue動態生成 -->\n    </div>\n\n    <div class=\"education-panel\">\n      <h2>今日養蜂知識</h2>\n      <p>{{ currentBeeFact }}</p>\n    </div>\n\n    <!-- 模態框覆蓋層 -->\n    <div\n      id=\"modal-overlay\"\n      class=\"modal-overlay\"\n      :class=\"{ active: isModalActive, hidden: !isModalActive }\"\n      @click=\"closeAllModals\"\n    ></div>\n\n    <!-- 採蜜任務模態框 -->\n    <foraging-modal\n      :is-active=\"isForagingModalActive\"\n      @close-modal=\"closeForagingModal\"\n      @start-mission=\"startForagingMission\"\n      @sell-all-honey=\"sellAllHoney\"\n      @update-selected-area=\"updateSelectedArea\"\n    />\n\n    <!-- 勞力任務模態框 -->\n    <labor-task-modal\n      v-if=\"$store.state.laborTasks && $store.state.laborTasks.currentTask\"\n      :task=\"$store.state.laborTasks\"\n      @complete=\"completeLaborTask\"\n    />\n\n    <honey-storage-modal\n      :is-active=\"isHoneyStorageModalActive\"\n      @close-modal=\"closeHoneyStorageModal\"\n    />\n\n    <tasks-modal\n      :is-active=\"isTasksModalActive\"\n      @close-modal=\"closeTasksModal\"\n    />\n\n    <achievements-modal\n      :is-active=\"isAchievementsModalActive\"\n      @close-modal=\"closeAchievementsModal\"\n    />\n  </div>\n</template>\n\n<script>\n  import { mapState, mapGetters, mapActions } from \"vuex\";\n  import ForagingModal from \"@/components/ForagingModal.vue\";\n  import LaborTaskModal from \"@/components/LaborTaskModal.vue\";\n  import HoneyStorageModal from \"@/components/HoneyStorageModal.vue\";\n  import TasksModal from \"@/components/TasksModal.vue\";\n  import AchievementsModal from \"@/components/AchievementsModal.vue\";\n\n  export default {\n    name: \"GameView\",\n    components: {\n      ForagingModal,\n      LaborTaskModal,\n      HoneyStorageModal,\n      TasksModal,\n      AchievementsModal,\n    },\n    data() {\n      return {\n        // 模態框狀態\n        isModalActive: false,\n        isForagingModalActive: false,\n        isHoneyStorageModalActive: false,\n        isTasksModalActive: false,\n        isAchievementsModalActive: false,\n      };\n    },\n    computed: {\n      ...mapState({\n        bees: (state) => state.bees.bees,\n        honey: (state) => state.honey.production || 0,\n        money: (state) => state.money,\n        hiveLevel: (state) => state.bees.hiveLevel,\n        hiveHealth: (state) => state.bees.hiveHealth,\n        hiveCapacity: (state) => state.bees.hiveCapacity,\n        honeyPerBeePerMinute: (state) => state.bees.honeyPerBeePerMinute,\n        beeCost: (state) => state.bees.costs.bee,\n        hiveUpgradeCost: (state) => state.bees.costs.hiveUpgrade,\n        currentChallenge: (state) => state.challenges.currentChallenge,\n        challengeHidden: (state) => state.challenges.challengeHidden,\n        currentBeeFact: (state) => state.currentBeeFact,\n        laborTask: (state) => state.laborTasks,\n        weatherTypes: (state) => state.weather.weatherTypes,\n      }),\n      ...mapGetters({\n        healthColorStyle: \"bees/healthColorStyle\",\n        canBuyBee: \"bees/canBuyBee\",\n        canUpgradeHive: \"bees/canUpgradeHive\",\n        canCollectHoney: \"honey/canCollectHoney\",\n        hasNewOrders: \"orders/hasNewOrders\",\n        currentWeather: \"weather/currentWeather\",\n        hasNewTasks: \"tasks/hasNewTasks\",\n        hasNewAchievements: \"achievements/hasNewAchievements\",\n        availableBees: \"bees/availableBees\",\n      }),\n      disableButtons() {\n        return (\n          this.$store.state.laborTasks &&\n          this.$store.state.laborTasks.currentTask !== null\n        );\n      },\n    },\n    mounted() {\n      // 先加載遊戲數據，再初始化遊戲邏輯\n      this.$store.dispatch(\"persistence/loadGame\").then(() => {\n        // 加載完成後再初始化遊戲\n        this.setupGame();\n\n        // 設置蜜蜂渲染\n        this.$nextTick(() => {\n          this.renderBees();\n        });\n      });\n\n      // 設置 bees 變化時重新渲染蜜蜂\n      this.$watch(\n        () => this.$store.state.bees.bees,\n        () => {\n          this.renderBees();\n        }\n      );\n\n      // 添加頁面關閉前的保存\n      window.addEventListener(\"beforeunload\", this.saveGameBeforeUnload);\n    },\n    beforeUnmount() {\n      // 移除事件監聽器\n      window.removeEventListener(\"beforeunload\", this.saveGameBeforeUnload);\n    },\n    methods: {\n      ...mapActions({\n        setupGame: \"setupGame\",\n        collectHoney: \"honey/collectHoney\",\n        buyBee: \"bees/buyBee\",\n        upgradeHive: \"bees/upgradeHive\",\n        checkHive: \"bees/checkHive\",\n        applySolution: \"challenges/applySolution\",\n        startForagingMission: \"foraging/startForagingMission\",\n        sellAllHoney: \"honey/sellAllHoney\",\n        updateSelectedArea: \"foraging/selectArea\",\n        completeLaborTask: \"laborTasks/progressTask\",\n      }),\n\n      // 開啟採蜜模態框\n      openForagingModal() {\n        this.isModalActive = true;\n        this.isForagingModalActive = true;\n      },\n\n      // 關閉採蜜模態框\n      closeForagingModal() {\n        this.isForagingModalActive = false;\n        this.isModalActive = false;\n      },\n\n      // 關閉所有模態框\n      closeAllModals(event) {\n        // 只有當點擊的是覆蓋層本身時才關閉\n        if (event.target.id === \"modal-overlay\") {\n          this.isForagingModalActive = false;\n          this.isModalActive = false;\n          this.isHoneyStorageModalActive = false;\n          this.isTasksModalActive = false;\n          this.isAchievementsModalActive = false;\n        }\n      },\n\n      // 渲染蜜蜂動畫\n      renderBees() {\n        const hiveContainer = this.$refs.hiveContainer;\n        if (!hiveContainer) return;\n\n        // 清空現有蜜蜂\n        while (hiveContainer.firstChild) {\n          hiveContainer.removeChild(hiveContainer.firstChild);\n        }\n\n        // 獲取容器尺寸，用於計算安全範圍\n        const containerWidth = hiveContainer.clientWidth;\n        const containerHeight = hiveContainer.clientHeight;\n\n        // 安全邊距 (讓蜜蜂不飛出容器)\n        const safeMargin = 30; // 像素\n\n        // 添加蜜蜂\n        for (let i = 0; i < this.availableBees; i++) {\n          const bee = document.createElement(\"div\");\n          bee.className = \"bee\";\n\n          // 計算安全的隨機位置 (避開邊緣)\n          // 使用百分比 20% - 80% 確保有足夠邊距\n          let left = Math.random() * 60 + 20; // 20% to 80%\n          let top = Math.random() * 60 + 20; // 20% to 80%\n\n          bee.style.left = `${left}%`;\n          bee.style.top = `${top}%`;\n\n          // 隨機飛行動畫延遲，讓蜜蜂不同步移動\n          bee.style.animationDelay = `${Math.random() * 5}s`;\n\n          // 計算最大安全飛行距離 (像素)\n          // 根據蜜蜂的初始位置計算安全飛行範圍\n          const posX = (left / 100) * containerWidth; // 轉換為像素\n          const posY = (top / 100) * containerHeight; // 轉換為像素\n\n          // 計算到各邊界的距離\n          const distToLeft = posX;\n          const distToRight = containerWidth - posX;\n          const distToTop = posY;\n          const distToBottom = containerHeight - posY;\n\n          // 安全飛行距離應該是到最近邊界距離的一半，再減去安全邊距\n          const maxSafeDistance =\n            Math.min(distToLeft, distToRight, distToTop, distToBottom) -\n            safeMargin;\n\n          // 確保最小值為 5px (避免負值)\n          const flyDistance = Math.min(Math.max(maxSafeDistance * 0.7, 5), 15);\n\n          // 設置 CSS 變數，定義隨機飛行軌跡\n          // 現在使用較小的範圍，確保不會飛出\n          bee.style.setProperty(\n            \"--x0\",\n            `${Math.random() * flyDistance - flyDistance / 2}px`\n          );\n          bee.style.setProperty(\n            \"--y0\",\n            `${Math.random() * flyDistance - flyDistance / 2}px`\n          );\n          bee.style.setProperty(\"--r0\", `${Math.random() * 20 - 10}deg`);\n\n          bee.style.setProperty(\n            \"--x25\",\n            `${Math.random() * flyDistance - flyDistance / 2}px`\n          );\n          bee.style.setProperty(\n            \"--y25\",\n            `${Math.random() * flyDistance - flyDistance / 2}px`\n          );\n          bee.style.setProperty(\"--r25\", `${Math.random() * 20 - 10}deg`);\n\n          bee.style.setProperty(\n            \"--x50\",\n            `${Math.random() * flyDistance - flyDistance / 2}px`\n          );\n          bee.style.setProperty(\n            \"--y50\",\n            `${Math.random() * flyDistance - flyDistance / 2}px`\n          );\n          bee.style.setProperty(\"--r50\", `${Math.random() * 20 - 10}deg`);\n\n          bee.style.setProperty(\n            \"--x75\",\n            `${Math.random() * flyDistance - flyDistance / 2}px`\n          );\n          bee.style.setProperty(\n            \"--y75\",\n            `${Math.random() * flyDistance - flyDistance / 2}px`\n          );\n          bee.style.setProperty(\"--r75\", `${Math.random() * 20 - 10}deg`);\n\n          bee.style.setProperty(\n            \"--x100\",\n            `${Math.random() * flyDistance - flyDistance / 2}px`\n          );\n          bee.style.setProperty(\n            \"--y100\",\n            `${Math.random() * flyDistance - flyDistance / 2}px`\n          );\n          bee.style.setProperty(\"--r100\", `${Math.random() * 20 - 10}deg`);\n\n          // 根據蜜蜂位置調整動畫時間 (更靠近中心的蜜蜂飛得慢一些)\n          const centerDistance = Math.sqrt(\n            Math.pow((left - 50) / 50, 2) + Math.pow((top - 50) / 50, 2)\n          );\n          // 3-7秒，中心較慢，邊緣較快\n          const animationDuration = 3 + (1 - centerDistance) * 4;\n          bee.style.animationDuration = `${animationDuration}s`;\n\n          hiveContainer.appendChild(bee);\n        }\n      },\n\n      openHoneyStorage() {\n        this.isHoneyStorageModalActive = true;\n        this.isModalActive = true;\n      },\n\n      // 關閉蜂蜜倉庫\n      closeHoneyStorageModal() {\n        this.isHoneyStorageModalActive = false;\n        this.isModalActive = false;\n      },\n\n      openTasksPanel() {\n        this.isTasksModalActive = true;\n        this.isModalActive = true;\n      },\n\n      closeTasksModal() {\n        this.isTasksModalActive = false;\n        this.isModalActive = false;\n      },\n\n      openAchievementsPanel() {\n        this.isAchievementsModalActive = true;\n        this.isModalActive = true;\n      },\n\n      closeAchievementsModal() {\n        this.isAchievementsModalActive = false;\n        this.isModalActive = false;\n      },\n\n      saveGameBeforeUnload() {\n        this.$store.dispatch(\"persistence/saveGame\");\n      },\n    },\n  };\n</script>\n\n<style>\n  /* 匯入原始CSS樣式 */\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: \"微軟正黑體\", Arial, sans-serif;\n  }\n\n  body {\n    background-color: #f5f0e5;\n    color: #453018;\n    line-height: 1.6;\n  }\n\n  .game-container {\n    max-width: 900px;\n    margin: 20px auto;\n    padding: 20px;\n    background-color: rgba(255, 255, 255, 0.9);\n    border-radius: 15px;\n    box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);\n  }\n\n  header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 20px;\n    padding-bottom: 10px;\n    border-bottom: 2px solid #ffd24d;\n  }\n\n  h1 {\n    color: #d4a017;\n    font-size: 2.2rem;\n    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);\n  }\n\n  h2 {\n    color: #b38728;\n    font-size: 1.5rem;\n    margin-bottom: 10px;\n    border-bottom: 1px solid #ffd24d;\n    padding-bottom: 5px;\n  }\n\n  /* 天氣顯示 */\n  .weather-display {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    font-size: 1.2rem;\n    padding: 5px 15px;\n    background-color: #e9f5ff;\n    border-radius: 20px;\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n  }\n\n  #weather-icon {\n    font-size: 2rem;\n  }\n\n  /* 資源面板 */\n  .resources-panel {\n    display: flex;\n    justify-content: space-around;\n    margin-bottom: 25px;\n    padding: 15px;\n    background-color: #fff8e6;\n    border-radius: 10px;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);\n  }\n\n  .resource {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n  }\n\n  .resource-icon {\n    width: 40px;\n    height: 40px;\n    object-fit: contain;\n  }\n\n  .resource-info {\n    display: flex;\n    flex-direction: column;\n  }\n\n  .resource-name {\n    font-size: 0.9rem;\n    color: #6a5a3e;\n  }\n\n  /* 蜂巢顯示區域 */\n  .hive-display {\n    margin-bottom: 25px;\n    padding: 20px;\n    background-color: #fefaf0;\n    border-radius: 10px;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);\n  }\n\n  .hive-container {\n    display: flex;\n    justify-content: center;\n    margin: 20px 0;\n    height: 150px;\n    background-size: contain;\n    position: relative;\n  }\n\n  .bee {\n    position: absolute !important;\n    width: 20px !important;\n    height: 20px !important;\n    background: url(\"@/assets/images/bee-sprite.png\") no-repeat !important;\n    background-size: contain !important;\n    animation: fly 5s infinite alternate !important;\n    z-index: 10;\n  }\n\n  @keyframes fly {\n    0% {\n      transform: translate(var(--x0, 0), var(--y0, 0)) rotate(var(--r0, 0deg));\n    }\n    20% {\n      transform: translate(var(--x25, 5px), var(--y25, 5px))\n        rotate(var(--r25, 5deg));\n    }\n    40% {\n      transform: translate(var(--x50, -5px), var(--y50, 5px))\n        rotate(var(--r50, -5deg));\n    }\n    60% {\n      transform: translate(var(--x75, 5px), var(--y75, -5px))\n        rotate(var(--r75, 5deg));\n    }\n    80% {\n      transform: translate(var(--x100, -5px), var(--y100, -5px))\n        rotate(var(--r100, -5deg));\n    }\n    100% {\n      transform: translate(var(--x0, 0), var(--y0, 0)) rotate(var(--r0, 0deg)); /* 回到起點 */\n    }\n  }\n\n  .hive-stats {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 10px;\n    font-size: 0.95rem;\n  }\n\n  .hive-stats span {\n    font-weight: bold;\n    color: #8c6d3c;\n  }\n\n  /* 操作按鈕區 */\n  .action-panel {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 15px;\n    margin-bottom: 25px;\n    justify-content: center;\n  }\n\n  .game-button {\n    padding: 12px 20px;\n    border: none;\n    border-radius: 25px;\n    background-color: #ffc226;\n    color: #5d4215;\n    font-size: 1rem;\n    font-weight: bold;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);\n  }\n\n  .game-button:hover {\n    background-color: #ffb300;\n    transform: translateY(-2px);\n    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);\n  }\n\n  .game-button:active {\n    transform: translateY(1px);\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n  }\n\n  .game-button:disabled {\n    background-color: #d6d6d6;\n    color: #888;\n    cursor: not-allowed;\n    transform: none;\n    box-shadow: none;\n  }\n\n  /* 挑戰面板 */\n  .challenges-panel {\n    margin-bottom: 25px;\n    padding: 15px;\n    background-color: #fff8e6;\n    border-radius: 10px;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);\n  }\n\n  .challenge-card {\n    background-color: #fff;\n    border-radius: 12px;\n    padding: 20px;\n    margin-top: 15px;\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n    border-left: 5px solid #ff9800;\n    transition: transform 0.2s ease;\n  }\n\n  .challenge-card.weather {\n    border-left-color: #42a5f5;\n  }\n\n  .challenge-card.pest {\n    border-left-color: #ef5350;\n  }\n\n  .challenge-card.environment {\n    border-left-color: #66bb6a;\n  }\n\n  .challenge-card h3 {\n    margin-bottom: 8px;\n    color: #d46700;\n  }\n\n  .challenge-actions {\n    display: flex;\n    gap: 10px;\n    margin-top: 15px;\n  }\n\n  .challenge-button {\n    padding: 8px 15px;\n    border: none;\n    border-radius: 20px;\n    background-color: #8c6d3c;\n    color: white;\n    cursor: pointer;\n    transition: background-color 0.3s;\n  }\n\n  .challenge-button:hover {\n    background-color: #6a512a;\n  }\n\n  .hidden {\n    display: none;\n  }\n\n  /* 通知區域 */\n  .notification-area {\n    position: fixed;\n    bottom: 20px;\n    right: 20px;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    max-width: 300px;\n    z-index: 999;\n  }\n\n  .notification {\n    padding: 12px 20px;\n    background-color: rgba(255, 255, 255, 0.95);\n    border-radius: 8px;\n    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);\n    animation: slideIn 0.3s forwards;\n    border-left: 5px solid #4caf50;\n    font-size: 0.9rem;\n  }\n\n  .notification.danger {\n    border-left-color: #f44336;\n  }\n\n  .notification.warning {\n    border-left-color: #ff9800;\n  }\n\n  .notification.info {\n    border-left-color: #2196f3;\n  }\n\n  @keyframes slideIn {\n    from {\n      transform: translateX(100%);\n      opacity: 0;\n    }\n    to {\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n\n  @keyframes slideOut {\n    from {\n      transform: translateX(0);\n      opacity: 1;\n    }\n    to {\n      transform: translateX(100%);\n      opacity: 0;\n    }\n  }\n\n  /* 知識面板 */\n  .education-panel {\n    padding: 15px;\n    background-color: #e7f5e4;\n    border-radius: 10px;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);\n  }\n\n  .honey-storage-button {\n    background-color: #ffcc00 !important;\n    color: #8b5a00 !important;\n    position: relative;\n  }\n\n  .badge {\n    position: absolute;\n    top: -5px;\n    right: -5px;\n    background-color: #e53935;\n    color: white;\n    width: 20px;\n    height: 20px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 14px;\n    font-weight: bold;\n  }\n\n  /* 響應式設計 */\n  @media (max-width: 768px) {\n    .resources-panel {\n      flex-direction: column;\n      gap: 15px;\n    }\n\n    .action-panel {\n      flex-direction: column;\n    }\n\n    .game-button {\n      width: 100%;\n    }\n  }\n\n  /* 模態框基本樣式 */\n  .modal-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.7);\n    z-index: 1000;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    opacity: 0;\n    transition: opacity 0.3s ease;\n  }\n\n  .modal-overlay.active {\n    opacity: 1;\n  }\n\n  .modal {\n    background-color: #fff;\n    border-radius: 15px;\n    width: 90%;\n    max-width: 900px;\n    max-height: 85vh;\n    overflow: hidden;\n    box-shadow: 0 5px 30px rgba(0, 0, 0, 0.3);\n    display: flex;\n    flex-direction: column;\n    transform: translateY(50px);\n    opacity: 0;\n    transition: all 0.3s ease;\n    z-index: 1001;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%) translateY(50px);\n  }\n\n  .modal.active {\n    opacity: 1;\n    transform: translate(-50%, -50%) translateY(0);\n  }\n\n  /* 特殊按鈕樣式 */\n  .game-button.special {\n    background-color: #63b3ed;\n    color: #fff;\n  }\n\n  .game-button.special:hover {\n    background-color: #4299e1;\n  }\n\n  /* 新增的面板樣式 */\n  .game-panels {\n    display: flex;\n    justify-content: flex-end;\n    margin-bottom: 15px;\n  }\n\n  .panel-buttons {\n    display: flex;\n    gap: 10px;\n  }\n\n  .panel-button {\n    display: flex;\n    align-items: center;\n    gap: 10px; /* 增加間距 */\n    padding: 8px 15px 8px 35px; /* 左側增加更多間距給圖示 */\n    border: none;\n    border-radius: 20px;\n    font-size: 0.9rem;\n    font-weight: bold;\n    cursor: pointer;\n    transition: all 0.2s;\n    position: relative; /* 保持相對定位 */\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n  }\n\n  .panel-button:hover {\n    background-color: #0077cc;\n    transform: translateY(-2px);\n    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);\n  }\n\n  .panel-button:active {\n    transform: translateY(1px);\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n  }\n\n  .panel-button .badge {\n    position: absolute;\n    top: -5px; /* 改為 -5px */\n    right: -5px; /* 改為 -5px */\n    background-color: #e53935;\n    color: white;\n    width: 20px;\n    height: 20px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 14px;\n    font-weight: bold;\n  }\n\n  .panel-button .icon {\n    position: absolute;\n    left: 10px;\n    top: 50%;\n    transform: translateY(-50%);\n    font-size: 1.2rem;\n  }\n\n  .tasks-button {\n    background-color: #f9a825;\n    color: #fff;\n  }\n\n  .tasks-button:hover {\n    background-color: #f57f17;\n    transform: translateY(-2px);\n  }\n\n  .achievements-button {\n    background-color: #7b1fa2;\n    color: #fff;\n  }\n\n  .achievements-button:hover {\n    background-color: #6a1b9a;\n    transform: translateY(-2px);\n  }\n\n  .panel-button .badge {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    background-color: #e53935;\n    color: white;\n    width: 20px;\n    height: 20px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 14px;\n    font-weight: bold;\n  }\n</style>\n","<template>\n  <div class=\"modal\" :class=\"{ active: isActive, hidden: !isActive }\">\n    <div class=\"modal-header\">\n      <h2>採蜜任務中心</h2>\n      <button class=\"modal-close\" @click=\"$emit('close-modal')\">&times;</button>\n    </div>\n    <div class=\"modal-content\">\n      <div class=\"modal-tabs\">\n        <button\n          v-for=\"(tab, index) in tabs\"\n          :key=\"index\"\n          :class=\"['tab-button', { active: activeTab === tab.id }]\"\n          @click=\"activeTab = tab.id\"\n        >\n          {{ tab.name }}\n        </button>\n      </div>\n\n      <div class=\"tab-content\">\n        <!-- 採蜜區域標籤頁 -->\n        <div :class=\"['tab-pane', { active: activeTab === 'areas-tab' }]\">\n          <div class=\"area-selection\">\n            <h3>選擇採蜜區域</h3>\n            <div class=\"area-grid\">\n              <div\n                v-for=\"area in areas\"\n                :key=\"area.id\"\n                :class=\"[\n                  'area-card',\n                  {\n                    locked: area.locked,\n                    selected: selectedArea === area.id,\n                  },\n                ]\"\n                :data-area=\"area.id\"\n                @click=\"selectArea(area)\"\n              >\n                <div :class=\"['area-image', area.id]\"></div>\n                <h4>{{ area.name }}</h4>\n                <p>{{ area.description }}</p>\n                <div v-if=\"!area.locked\" class=\"area-stats\">\n                  <span class=\"area-stat\"\n                    >收益：<span class=\"yield\">{{ area.yield }}</span></span\n                  >\n                  <span class=\"area-stat\"\n                    >風險：<span :class=\"['risk', area.riskLevel]\">{{\n                      area.risk\n                    }}</span></span\n                  >\n                  <span class=\"area-stat\"\n                    >時間：<span class=\"time\">{{ area.time }}</span></span\n                  >\n                </div>\n                <div v-if=\"area.locked\" class=\"lock-icon\">🔒</div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"mission-setup\">\n            <h3>派遣採蜜隊伍</h3>\n            <div class=\"mission-form\">\n              <div class=\"form-group\">\n                <label for=\"bees-assigned\">指派蜜蜂數量：</label>\n                <div class=\"slider-container\">\n                  <input\n                    type=\"range\"\n                    id=\"bees-assigned\"\n                    :min=\"1\"\n                    :max=\"maxBeesAssignable\"\n                    v-model.number=\"beesAssigned\"\n                    class=\"slider\"\n                  />\n                  <span>{{ beesAssigned }}</span> 隻\n                </div>\n              </div>\n              <div class=\"form-group\">\n                <label>採集時間：</label>\n                <div class=\"duration-buttons\">\n                  <button\n                    type=\"button\"\n                    class=\"duration-button\"\n                    :class=\"{ active: missionDuration === 'short' }\"\n                    @click=\"missionDuration = 'short'\"\n                  >\n                    短程\n                  </button>\n                  <button\n                    type=\"button\"\n                    class=\"duration-button\"\n                    :class=\"{ active: missionDuration === 'medium' }\"\n                    @click=\"missionDuration = 'medium'\"\n                  >\n                    中程\n                  </button>\n                  <button\n                    type=\"button\"\n                    class=\"duration-button\"\n                    :class=\"{ active: missionDuration === 'long' }\"\n                    @click=\"missionDuration = 'long'\"\n                  >\n                    長程\n                  </button>\n                </div>\n              </div>\n              <div class=\"form-info\">\n                <div>\n                  預計收穫：<span>{{ expectedYield }}</span>\n                </div>\n                <div>\n                  風險評估：<span>{{ missionRisk }}</span>\n                </div>\n              </div>\n              <button\n                @click=\"startMission\"\n                class=\"game-button mission-button\"\n                :disabled=\"!canStartMission\"\n              >\n                開始採蜜任務\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- 進行中任務標籤頁 -->\n        <div :class=\"['tab-pane', { active: activeTab === 'missions-tab' }]\">\n          <h3>進行中的任務</h3>\n          <div class=\"missions-container\">\n            <div v-if=\"activeMissions.length === 0\" class=\"empty-missions\">\n              目前沒有進行中的採蜜任務\n            </div>\n            <div\n              v-for=\"(mission, index) in localMissions\"\n              :key=\"mission.id || index\"\n              class=\"mission-card\"\n            >\n              <div class=\"mission-header\">\n                <div>\n                  <div class=\"mission-title\">採蜜任務 #{{ index + 1 }}</div>\n                  <div class=\"mission-area\">\n                    {{ getAreaName(mission.area) }}\n                  </div>\n                </div>\n                <div class=\"mission-timer\">\n                  {{ formatTime(mission.timeRemaining) }}\n                </div>\n              </div>\n              <div class=\"mission-details\">\n                <div>指派蜜蜂：{{ mission.bees }} 隻</div>\n                <div>風險等級：{{ mission.risk }}</div>\n              </div>\n              <div class=\"mission-progress\">\n                <div\n                  class=\"progress-bar\"\n                  :style=\"{ width: mission.progress + '%' }\"\n                ></div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- 替換花蜜收集標籤頁為戰損報告標籤頁 -->\n        <div :class=\"['tab-pane', { active: activeTab === 'report-tab' }]\">\n          <h3>採蜜任務報告</h3>\n\n          <div class=\"report-section\">\n            <h4>總體統計</h4>\n            <div class=\"report-stats\">\n              <div class=\"stat-item\">\n                <div class=\"stat-label\">總採蜜任務</div>\n                <div class=\"stat-value\">{{ missionStats.totalMissions }}</div>\n              </div>\n              <div class=\"stat-item\">\n                <div class=\"stat-label\">成功任務</div>\n                <div class=\"stat-value\">{{ missionStats.successMissions }}</div>\n              </div>\n              <div class=\"stat-item\">\n                <div class=\"stat-label\">失敗任務</div>\n                <div class=\"stat-value\">{{ missionStats.failedMissions }}</div>\n              </div>\n              <div class=\"stat-item\">\n                <div class=\"stat-label\">成功率</div>\n                <div class=\"stat-value\">{{ calculateSuccessRate() }}%</div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"report-section\">\n            <h4>蜂蜜收穫統計 (已存入倉庫)</h4>\n            <div class=\"honey-stats\">\n              <div\n                v-for=\"honey in honeyTypes\"\n                :key=\"honey.id\"\n                class=\"honey-stat\"\n              >\n                <div\n                  class=\"honey-icon\"\n                  :style=\"{ backgroundColor: getHoneyColor(honey.id) }\"\n                ></div>\n                <div class=\"honey-name\">{{ honey.name }}</div>\n                <div class=\"honey-amount\">\n                  {{ getHoneyAmount(honey.id) }} kg\n                </div>\n                <div class=\"honey-value\">\n                  價值: {{ calculateHoneyValue(honey.id) }} 元\n                </div>\n              </div>\n            </div>\n            <div class=\"total-honey\">\n              <div>總收穫量: {{ calculateTotalHoney() }} kg</div>\n              <div>總價值: {{ calculateTotalValue() }} 元</div>\n              <div class=\"storage-status\">\n                <span class=\"status-icon\">✓</span> 已存入倉庫\n              </div>\n            </div>\n          </div>\n\n          <div class=\"report-section\">\n            <h4>最近任務記錄</h4>\n            <div class=\"mission-history\">\n              <div v-if=\"missionHistory.length === 0\" class=\"empty-history\">\n                尚無任務記錄\n              </div>\n              <div\n                v-for=\"(mission, index) in missionHistory\"\n                :key=\"index\"\n                class=\"mission-record\"\n              >\n                <div class=\"mission-record-header\">\n                  <div\n                    :class=\"[\n                      'status-indicator',\n                      mission.success ? 'success' : 'failure',\n                    ]\"\n                  ></div>\n                  <div class=\"mission-area-name\">\n                    {{ getAreaName(mission.area) }}\n                  </div>\n                  <div class=\"mission-date\">{{ formatDate(mission.date) }}</div>\n                </div>\n                <div class=\"mission-record-details\">\n                  <div>蜜蜂數量: {{ mission.bees }} 隻</div>\n                  <div>風險等級: {{ mission.risk }}</div>\n                  <div v-if=\"mission.success\" class=\"mission-harvest\">\n                    <div class=\"harvest-header\">收穫:</div>\n                    <div class=\"harvest-grid\">\n                      <div\n                        v-for=\"item in formatHoneyGain(mission.rewards)\"\n                        :key=\"item.id\"\n                        class=\"harvest-item\"\n                      >\n                        <div\n                          class=\"honey-dot\"\n                          :style=\"{ backgroundColor: getHoneyColor(item.id) }\"\n                        ></div>\n                        <div class=\"honey-info\">\n                          <span class=\"honey-name\">{{ item.name }}</span>\n                          <span\n                            class=\"honey-amount\"\n                            :class=\"{ zero: item.amount === 0 }\"\n                          >\n                            {{ item.amount.toFixed(1) }} kg\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div v-else>\n                    損失:\n                    {{\n                      mission.lostBees > 0 ? `${mission.lostBees} 隻蜜蜂` : \"無\"\n                    }}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { mapState, mapActions } from \"vuex\";\n\n  export default {\n    name: \"ForagingModal\",\n    props: {\n      isActive: {\n        type: Boolean,\n        default: false,\n      },\n    },\n    data() {\n      return {\n        activeTab: \"areas-tab\",\n        beesAssigned: 1,\n        missionDuration: \"short\",\n        selectedArea: null, // 本地追蹤選擇的區域\n        tabs: [\n          { id: \"areas-tab\", name: \"採蜜區域\" },\n          { id: \"missions-tab\", name: \"進行中任務\" },\n          { id: \"report-tab\", name: \"採蜜報告\" },\n        ],\n        missionStats: {\n          totalMissions: 0,\n          successMissions: 0,\n          failedMissions: 0,\n        },\n        missionHistory: [], // 最近的任務記錄\n\n        // 蜂蜜顏色\n        honeyColors: {\n          common: \"#ffcc00\",\n          wildflower: \"#ffa64d\",\n          mountain: \"#996633\",\n          rare: \"#e64d00\",\n        },\n        areas: [\n          {\n            id: \"meadow\",\n            name: \"花草草地\",\n            description: \"常見花蜜，安全性高\",\n            yield: \"普通\",\n            risk: \"低\",\n            riskLevel: \"low\",\n            time: \"短\",\n            locked: false,\n          },\n          {\n            id: \"forest\",\n            name: \"深林山谷\",\n            description: \"野花蜜源，品質較佳\",\n            yield: \"良好\",\n            risk: \"中\",\n            riskLevel: \"medium\",\n            time: \"中\",\n            locked: false,\n          },\n          {\n            id: \"mountain\",\n            name: \"高山草原\",\n            description: \"高海拔蜜源，稀有花種\",\n            yield: \"優質\",\n            risk: \"高\",\n            riskLevel: \"high\",\n            time: \"長\",\n            locked: false,\n          },\n          {\n            id: \"orchard\",\n            name: \"果園花區\",\n            description: \"需達到蜂巢3級解鎖\",\n            locked: true,\n            minLevel: 3,\n          },\n          {\n            id: \"rare\",\n            name: \"稀有花園\",\n            description: \"需達到蜂巢5級解鎖\",\n            locked: true,\n            minLevel: 5,\n          },\n        ],\n        honeyTypes: [\n          { id: \"common\", name: \"普通花蜜\", price: 10 },\n          { id: \"wildflower\", name: \"野花蜜\", price: 15 },\n          { id: \"mountain\", name: \"高山花蜜\", price: 25 },\n          { id: \"rare\", name: \"稀有花蜜\", price: 50 },\n        ],\n        missionTimer: null, // 用於定時更新任務時間的計時器\n        localMissions: [],\n      };\n    },\n    computed: {\n      ...mapState({\n        bees: (state) => state.bees.bees,\n        hiveLevel: (state) => state.bees.hiveLevel,\n        storeSelectedArea: (state) => state.foraging.selectedArea,\n        foragingAreas: (state) => state.foraging.areas,\n        activeMissions: (state) => state.foraging.activeMissions,\n        honeyCollected: (state) => state.foraging.honeyCollected,\n        storedMissionStats: (state) => state.foraging.missionStats,\n        storedMissionHistory: (state) => state.foraging.missionHistory,\n      }),\n      maxBeesAssignable() {\n        // 考慮可用蜜蜂數量而不是總數\n        const availableBees = this.bees - this.calculateAssignedBees();\n\n        // 確保有足夠蜜蜂滿足所選區域的最低需求\n        if (this.selectedArea) {\n          const area = this.foragingAreas[this.selectedArea];\n          if (area && availableBees < area.beeCount) {\n            return 0; // 不夠滿足最低需求\n          }\n        }\n\n        return Math.min(10, availableBees); // 最多可派遣10隻蜜蜂\n      },\n      expectedYield() {\n        if (!this.selectedArea) return \"請選擇區域\";\n\n        const area = this.areas.find((a) => a.id === this.selectedArea);\n        let yieldValue = \"\";\n\n        switch (area.id) {\n          case \"meadow\":\n            yieldValue =\n              this.beesAssigned <= 2 ? \"少量普通花蜜\" : \"中量普通花蜜\";\n            break;\n          case \"forest\":\n            yieldValue = this.beesAssigned <= 2 ? \"少量野花蜜\" : \"中量野花蜜\";\n            break;\n          case \"mountain\":\n            yieldValue =\n              this.beesAssigned <= 2 ? \"少量高山花蜜\" : \"中量高山花蜜\";\n            break;\n          default:\n            yieldValue = \"少量普通花蜜\";\n        }\n\n        if (this.missionDuration === \"medium\") {\n          yieldValue = yieldValue\n            .replace(\"少量\", \"中量\")\n            .replace(\"中量\", \"大量\");\n        } else if (this.missionDuration === \"long\") {\n          yieldValue = yieldValue\n            .replace(\"少量\", \"大量\")\n            .replace(\"中量\", \"豐富\");\n        }\n\n        return yieldValue;\n      },\n      missionRisk() {\n        if (!this.selectedArea) return \"未知\";\n\n        const area = this.areas.find((a) => a.id === this.selectedArea);\n        let risk = \"\";\n\n        switch (area.riskLevel) {\n          case \"low\":\n            risk = this.beesAssigned <= 2 ? \"極低\" : \"低\";\n            break;\n          case \"medium\":\n            risk = this.beesAssigned <= 2 ? \"低\" : \"中\";\n            break;\n          case \"high\":\n            risk = this.beesAssigned <= 2 ? \"中\" : \"高\";\n            break;\n          default:\n            risk = \"未知\";\n        }\n\n        if (this.missionDuration === \"medium\") {\n          if (risk === \"極低\") risk = \"低\";\n          else if (risk === \"低\") risk = \"中\";\n          else if (risk === \"中\") risk = \"高\";\n        } else if (this.missionDuration === \"long\") {\n          if (risk === \"極低\") risk = \"中\";\n          else if (risk === \"低\") risk = \"高\";\n          else if (risk === \"中\") risk = \"極高\";\n        }\n\n        return risk;\n      },\n      canStartMission() {\n        return (\n          this.selectedArea &&\n          this.beesAssigned > 0 &&\n          this.beesAssigned <= this.bees\n        );\n      },\n    },\n    watch: {\n      // 當 store 中的 selectedArea 變化時同步到本地狀態\n      storeSelectedArea(newVal) {\n        this.selectedArea = newVal;\n      },\n      storedMissionStats: {\n        handler(newVal) {\n          this.missionStats = { ...newVal };\n        },\n        deep: true,\n        immediate: true,\n      },\n      storedMissionHistory: {\n        handler(newVal) {\n          this.missionHistory = [...newVal];\n        },\n        deep: true,\n        immediate: true,\n      },\n      activeMissions: {\n        handler(missions) {\n          console.log(\"活動任務更新:\", missions.length);\n          this.updateLocalMissions(missions);\n        },\n        deep: true,\n        immediate: true,\n      },\n    },\n    mounted() {\n      // 更新區域解鎖狀態\n      this.checkAndUnlockAreas();\n\n      // 初始化本地區域選擇狀態\n      this.selectedArea = this.storeSelectedArea;\n      this.startMissionTimer();\n    },\n    updated() {\n      // 如果是進行中任務標籤頁，確保計時器啟動\n      if (\n        this.activeTab === \"missions-tab\" &&\n        this.activeMissions.length > 0 &&\n        !this.missionTimer\n      ) {\n        this.startMissionTimer();\n      }\n    },\n    beforeUnmount() {\n      // 組件銷毀前清除計時器\n      this.clearMissionTimer();\n    },\n\n    methods: {\n      ...mapActions({\n        updateSelectedArea: \"foraging/selectArea\",\n        startForagingMission: \"foraging/startForagingMission\",\n      }),\n      selectArea(area) {\n        if (area.locked) return;\n\n        // 更新本地選擇狀態\n        this.selectedArea = area.id;\n\n        // 通過 Vuex action 更新全局狀態\n        this.updateSelectedArea(area.id);\n      },\n\n      startMission() {\n        if (!this.canStartMission) return;\n\n        const area = this.foragingAreas[this.selectedArea];\n        if (area) {\n          console.log(`該區域基礎時間: ${area.baseDuration}秒`);\n        }\n\n        const missionData = {\n          area: this.selectedArea,\n          bees: parseInt(this.beesAssigned),\n          duration: this.missionDuration,\n          risk: this.missionRisk,\n        };\n\n        // 使用 Vuex action 啟動任務\n        this.startForagingMission(missionData);\n\n        // 重置表單\n        this.beesAssigned = 1;\n        this.missionDuration = \"short\";\n\n        // 切換到進行中任務標籤\n        this.activeTab = \"missions-tab\";\n\n        // 可選：平滑滾動到頂部\n        this.$nextTick(() => {\n          const modalContent = document.querySelector(\".modal-content\");\n          if (modalContent) {\n            modalContent.scrollTo({\n              top: 0,\n              behavior: \"smooth\",\n            });\n          }\n        });\n      },\n\n      checkAndUnlockAreas() {\n        // 根據蜂巢等級解鎖區域，但只更新本地數據\n        this.areas.forEach((area) => {\n          if (area.minLevel && this.hiveLevel >= area.minLevel) {\n            area.locked = false;\n          }\n        });\n      },\n\n      getAreaName(areaId) {\n        const area = this.areas.find((a) => a.id === areaId);\n        return area ? area.name : \"未知區域\";\n      },\n\n      formatTime(seconds) {\n        if (!seconds && seconds !== 0) return \"--:--\";\n\n        const mins = Math.floor(seconds / 60);\n        const secs = Math.floor(seconds % 60);\n        return `${mins.toString().padStart(2, \"0\")}:${secs\n          .toString()\n          .padStart(2, \"0\")}`;\n      },\n\n      getHoneyAmount(honeyType) {\n        // 安全地獲取蜂蜜數量，避免未定義錯誤\n        if (\n          this.honeyCollected &&\n          this.honeyCollected[honeyType] !== undefined\n        ) {\n          return this.honeyCollected[honeyType].toFixed(1);\n        }\n        return \"0.0\";\n      },\n\n      // 計算成功率\n      calculateSuccessRate() {\n        if (this.missionStats.totalMissions === 0) return \"0.0\";\n        const rate =\n          (this.missionStats.successMissions /\n            this.missionStats.totalMissions) *\n          100;\n        return rate.toFixed(1);\n      },\n\n      // 獲取蜂蜜顏色\n      getHoneyColor(type) {\n        return this.honeyColors[type] || \"#ffcc00\";\n      },\n\n      // 計算蜂蜜價值\n      calculateHoneyValue(type) {\n        const honey = this.honeyTypes.find((h) => h.id === type);\n        const amount = this.getHoneyAmount(type);\n        return (honey.price * parseFloat(amount)).toFixed(0);\n      },\n\n      // 計算總蜂蜜量\n      calculateTotalHoney() {\n        if (!this.honeyCollected) return \"0.0\";\n\n        const total = Object.values(this.honeyCollected).reduce(\n          (sum, val) => sum + (val || 0),\n          0\n        );\n        return total.toFixed(1);\n      },\n\n      // 計算總價值\n      calculateTotalValue() {\n        if (!this.honeyCollected) return \"0\";\n\n        let total = 0;\n        this.honeyTypes.forEach((honey) => {\n          const amount = this.honeyCollected[honey.id] || 0;\n          total += amount * honey.price;\n        });\n\n        return total.toFixed(0);\n      },\n\n      calculateAssignedBees() {\n        return this.activeMissions.reduce((total, mission) => {\n          return total + mission.bees;\n        }, 0);\n      },\n\n      // 格式化日期\n      formatDate(timestamp) {\n        const date = new Date(timestamp);\n        return `${\n          date.getMonth() + 1\n        }/${date.getDate()} ${date.getHours()}:${date\n          .getMinutes()\n          .toString()\n          .padStart(2, \"0\")}`;\n      },\n\n      // 格式化蜂蜜獲取\n      formatHoneyGain(rewards) {\n        if (!rewards) return \"無收穫\";\n\n        // 列出所有蜂蜜類型\n        const allTypes = this.honeyTypes.map((h) => h.id);\n\n        // 使用表格格式顯示所有蜂蜜類型的收穫\n        return allTypes.map((type) => {\n          const honey = this.honeyTypes.find((h) => h.id === type);\n          const amount = rewards[type] || 0;\n          return {\n            id: type,\n            name: honey ? honey.name : type,\n            amount: amount,\n          };\n        });\n      },\n\n      updateLocalMissions(missions) {\n        this.localMissions = missions.map((mission) => {\n          // 計算剩餘時間（毫秒）\n          const now = Date.now();\n          const timeRemaining = Math.max(0, mission.endTime - now);\n\n          // 計算進度百分比\n          const totalDuration = mission.endTime - mission.startTime;\n          const elapsed = now - mission.startTime;\n          const progress = Math.min(\n            100,\n            Math.max(0, (elapsed / totalDuration) * 100)\n          );\n\n          return {\n            ...mission,\n            timeRemaining: Math.floor(timeRemaining / 1000), // 轉換為秒\n            progress: progress.toFixed(1),\n          };\n        });\n      },\n\n      // 開始計時器，定期更新任務時間\n      startMissionTimer() {\n        // 先清除現有計時器\n        this.clearMissionTimer();\n\n        // 設置新計時器，每秒更新一次\n        this.missionTimer = setInterval(() => {\n          if (this.activeMissions.length > 0) {\n            this.updateLocalMissions(this.activeMissions);\n          } else {\n            this.clearMissionTimer();\n          }\n        }, 1000);\n      },\n\n      // 清除計時器\n      clearMissionTimer() {\n        if (this.missionTimer) {\n          clearInterval(this.missionTimer);\n          this.missionTimer = null;\n        }\n      },\n    },\n  };\n</script>\n\n<style scoped>\n  /* 這裡可以放置組件特定樣式，但大部分樣式已在全局CSS中定義 */\n  .modal-tabs {\n    display: flex;\n    background-color: #f5f0e5;\n    border-bottom: 1px solid #e0d8c8;\n  }\n\n  .tab-button {\n    padding: 12px 20px;\n    background: none;\n    border: none;\n    border-bottom: 3px solid transparent;\n    font-size: 1rem;\n    color: #8c6d3c;\n    cursor: pointer;\n    transition: all 0.2s;\n  }\n\n  .tab-button:hover {\n    background-color: #f8f5ee;\n    color: #5d4215;\n  }\n\n  .tab-button.active {\n    border-bottom-color: #ffc226;\n    color: #5d4215;\n    font-weight: bold;\n  }\n\n  .tab-content {\n    padding: 20px;\n  }\n\n  .tab-pane {\n    display: none;\n  }\n\n  .tab-pane.active {\n    display: block;\n  }\n\n  .honey-types {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));\n    gap: 15px;\n    margin: 15px 0;\n  }\n\n  .area-card.selected {\n    background-color: #fff0c8;\n    box-shadow: 0 0 0 2px #ffb300, 0 5px 15px rgba(0, 0, 0, 0.1);\n  }\n\n  .report-section {\n    margin-bottom: 25px;\n    background-color: #fff;\n    border-radius: 8px;\n    padding: 15px;\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n  }\n\n  .report-section h4 {\n    margin-top: 0;\n    margin-bottom: 12px;\n    color: #5d4215;\n    border-bottom: 1px solid #e0d8c8;\n    padding-bottom: 8px;\n  }\n\n  .report-stats {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n    gap: 15px;\n  }\n\n  .stat-item {\n    text-align: center;\n    padding: 10px;\n    background-color: #f9f5ea;\n    border-radius: 6px;\n  }\n\n  .stat-label {\n    font-size: 0.9rem;\n    color: #8c6d3c;\n    margin-bottom: 5px;\n  }\n\n  .stat-value {\n    font-size: 1.2rem;\n    font-weight: bold;\n    color: #5d4215;\n  }\n\n  .honey-stats {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n    gap: 12px;\n    margin-bottom: 15px;\n  }\n\n  .honey-stat {\n    display: flex;\n    flex-direction: column;\n    padding: 12px;\n    background-color: #f9f5ea;\n    border-radius: 6px;\n  }\n\n  .honey-icon {\n    width: 20px;\n    height: 20px;\n    border-radius: 50%;\n    margin-bottom: 8px;\n  }\n\n  .honey-name {\n    font-weight: bold;\n    margin-bottom: 4px;\n  }\n\n  .honey-amount {\n    color: #8c6d3c;\n  }\n\n  .honey-value {\n    color: #5d4215;\n    font-size: 0.9rem;\n  }\n\n  .duration-buttons {\n    display: flex;\n    gap: 8px;\n    margin-top: 5px;\n  }\n\n  .duration-button {\n    flex: 1;\n    padding: 8px 0;\n    background-color: #f9f5ea;\n    border: 1px solid #e0d8c8;\n    border-radius: 4px;\n    color: #8c6d3c;\n    font-size: 0.9rem;\n    cursor: pointer;\n    transition: all 0.2s;\n  }\n\n  .duration-button:hover {\n    background-color: #f5efe0;\n    border-color: #d5c9b0;\n  }\n\n  .duration-button.active {\n    background-color: #ffc226;\n    border-color: #ffb300;\n    color: #5d4215;\n    font-weight: bold;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  }\n\n  .total-honey {\n    display: flex;\n    justify-content: space-between;\n    padding: 10px;\n    background-color: #fff0c8;\n    border-radius: 6px;\n    font-weight: bold;\n    color: #5d4215;\n  }\n\n  .mission-harvest {\n    grid-column: 1 / -1;\n    margin-top: 8px;\n    padding-top: 8px;\n    border-top: 1px dashed #e0d8c8;\n  }\n\n  .harvest-header {\n    font-weight: bold;\n    margin-bottom: 5px;\n    color: #5d4215;\n  }\n\n  .harvest-grid {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    gap: 12px;\n  }\n\n  .harvest-item {\n    display: flex;\n    align-items: center;\n  }\n\n  .honey-dot {\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n    margin-right: 6px;\n  }\n\n  .honey-info {\n    display: flex;\n    justify-content: space-between;\n    flex-grow: 1;\n    font-size: 0.85rem;\n  }\n\n  .honey-name {\n    color: #8c6d3c;\n  }\n\n  .honey-amount {\n    font-weight: bold;\n    color: #5d4215;\n  }\n\n  .honey-amount.zero {\n    color: #aaa;\n    font-weight: normal;\n  }\n\n  .storage-status {\n    margin-top: 8px;\n    font-size: 0.9rem;\n    color: #4caf50;\n    display: flex;\n    align-items: center;\n  }\n\n  .status-icon {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    width: 18px;\n    height: 18px;\n    background-color: #4caf50;\n    color: white;\n    border-radius: 50%;\n    font-size: 12px;\n    margin-right: 5px;\n  }\n\n  /* 當螢幕較小時改為單欄顯示 */\n  @media (max-width: 500px) {\n    .harvest-grid {\n      grid-template-columns: 1fr;\n    }\n  }\n\n  .mission-history {\n    max-height: 300px;\n    overflow-y: auto;\n  }\n\n  .mission-record {\n    padding: 10px;\n    background-color: #f9f5ea;\n    border-radius: 6px;\n    margin-bottom: 8px;\n  }\n\n  .mission-record-header {\n    display: flex;\n    align-items: center;\n    margin-bottom: 5px;\n  }\n\n  .status-indicator {\n    width: 10px;\n    height: 10px;\n    border-radius: 50%;\n    margin-right: 8px;\n  }\n\n  .status-indicator.success {\n    background-color: #4caf50;\n  }\n\n  .status-indicator.failure {\n    background-color: #f44336;\n  }\n\n  .mission-area-name {\n    font-weight: bold;\n    margin-right: auto;\n  }\n\n  .mission-date {\n    font-size: 0.8rem;\n    color: #8c6d3c;\n  }\n\n  .mission-record-details {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    font-size: 0.9rem;\n    color: #5d4215;\n  }\n\n  .empty-history {\n    text-align: center;\n    padding: 20px;\n    color: #8c6d3c;\n    font-style: italic;\n  }\n</style>\n","import { render } from \"./ForagingModal.vue?vue&type=template&id=9ea61b9e&scoped=true\"\nimport script from \"./ForagingModal.vue?vue&type=script&lang=js\"\nexport * from \"./ForagingModal.vue?vue&type=script&lang=js\"\n\nimport \"./ForagingModal.vue?vue&type=style&index=0&id=9ea61b9e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9ea61b9e\"]])\n\nexport default __exports__","<template>\n  <div class=\"labor-overlay\" v-if=\"task && task.currentTask\">\n    <div class=\"labor-container\">\n      <h3 class=\"labor-title\">{{ task.taskName }}</h3>\n      <div class=\"progress-container\">\n        <div class=\"progress-bar\" :style=\"{ width: progress + '%' }\"></div>\n      </div>\n      <button\n        @click=\"performWork\"\n        :class=\"['game-button', { completed: isCompleted }]\"\n        :disabled=\"isCompleted\"\n      >\n        <span class=\"button-text\">{{ buttonText }}</span>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { mapActions } from \"vuex\";\n\n  export default {\n    name: \"LaborTaskModal\",\n    props: {\n      task: {\n        type: Object,\n        required: true,\n      },\n    },\n    data() {\n      return {\n        isCompleted: false,\n        localClicksDone: 0,\n      };\n    },\n    computed: {\n      progress() {\n        const currentClicks =\n          this.localClicksDone + (this.task.clicksCompleted || 0);\n        return (currentClicks / this.task.clicksNeeded) * 100;\n      },\n      buttonText() {\n        if (this.isCompleted) {\n          return \"完成！\";\n        } else {\n          const remainingClicks =\n            this.task.clicksNeeded -\n            ((this.task.clicksCompleted || 0) + this.localClicksDone);\n          return `努力工作 (還需 ${remainingClicks} 次)`;\n        }\n      },\n    },\n    watch: {\n      // 當 task 改變時重置本地狀態\n      task: {\n        handler() {\n          this.isCompleted = false;\n          this.localClicksDone = 0;\n        },\n        deep: true,\n      },\n    },\n    methods: {\n      ...mapActions({\n        completeLaborTask: \"laborTasks/progressTask\",\n      }),\n      performWork() {\n        if (this.isCompleted) return;\n\n        // 更新本地點擊次數\n        this.localClicksDone++;\n\n        // 檢查是否完成任務\n        if (\n          this.localClicksDone + this.task.clicksCompleted <\n          this.task.clicksNeeded\n        ) {\n          this.completeLaborTask();\n        } else {\n          this.isCompleted = true;\n\n          // 延遲關閉模態框，給用戶一個視覺反饋\n          setTimeout(() => {\n            this.$emit(\"complete\", this.localClicksDone);\n          }, 500);\n        }\n      },\n    },\n  };\n</script>\n\n<style scoped>\n  .labor-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.7);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 1000;\n  }\n\n  .labor-task {\n    background-color: white;\n    padding: 20px;\n    border-radius: 10px;\n    text-align: center;\n    max-width: 400px;\n    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);\n  }\n\n  .labor-container {\n    background-color: #fff;\n    border-radius: 15px;\n    padding: 25px;\n    width: 320px;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(0, 0, 0, 0.05);\n    text-align: center;\n    animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n    border: 2px solid #ffc226;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .labor-container::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 5px;\n    background: linear-gradient(to right, #ffc226, #ffeb3b, #ffc226);\n  }\n\n  .labor-title {\n    margin: 0 0 20px 0;\n    padding-bottom: 12px;\n    font-size: 1.4rem;\n    color: #5d4215;\n    position: relative;\n    font-weight: bold;\n    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);\n  }\n\n  .labor-title::after {\n    content: \"\";\n    position: absolute;\n    bottom: 0;\n    left: 50%;\n    transform: translateX(-50%);\n    width: 60px;\n    height: 3px;\n    background-color: #ffc226;\n    border-radius: 3px;\n  }\n\n  h3 {\n    margin-bottom: 15px;\n    color: #5d4215;\n  }\n\n  .progress-container {\n    width: 100%;\n    height: 20px;\n    background-color: #f5f5f5;\n    border-radius: 10px;\n    overflow: hidden;\n    margin-bottom: 20px;\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);\n    border: 1px solid #e0e0e0;\n  }\n\n  .progress-bar {\n    height: 100%;\n    background: linear-gradient(to right, #4caf50, #8bc34a);\n    transition: width 0.3s ease;\n    width: 0%;\n    box-shadow: 0 0 5px rgba(76, 175, 80, 0.5);\n  }\n\n  .game-button {\n    margin: 0 auto;\n    display: block;\n    padding: 12px 24px;\n    font-size: 1.1rem;\n    transition: all 0.3s;\n    min-width: 180px;\n  }\n\n  .game-button:disabled {\n    background-color: #4caf50;\n    cursor: default;\n  }\n\n  .button-text {\n    position: relative;\n    z-index: 2;\n  }\n\n  .game-button.completed {\n    background-color: #2196f3;\n    color: white;\n    font-weight: bold;\n    position: relative;\n    overflow: hidden;\n    border: 2px solid #1976d2;\n  }\n\n  .game-button.completed::after {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(\n      45deg,\n      rgba(255, 255, 255, 0.2) 25%,\n      transparent 25%,\n      transparent 50%,\n      rgba(255, 255, 255, 0.2) 50%,\n      rgba(255, 255, 255, 0.2) 75%,\n      transparent 75%,\n      transparent\n    );\n    background-size: 20px 20px;\n    z-index: 1;\n    animation: shine 1s linear infinite;\n  }\n\n  @keyframes shine {\n    0% {\n      background-position: 0 0;\n    }\n    100% {\n      background-position: 20px 0;\n    }\n  }\n</style>\n","import { render } from \"./LaborTaskModal.vue?vue&type=template&id=8b48be4a&scoped=true\"\nimport script from \"./LaborTaskModal.vue?vue&type=script&lang=js\"\nexport * from \"./LaborTaskModal.vue?vue&type=script&lang=js\"\n\nimport \"./LaborTaskModal.vue?vue&type=style&index=0&id=8b48be4a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8b48be4a\"]])\n\nexport default __exports__","<template>\n  <div class=\"modal\" :class=\"{ active: isActive, hidden: !isActive }\">\n    <div class=\"modal-header\">\n      <h2>蜂蜜倉庫</h2>\n      <button class=\"modal-close\" @click=\"closeModal\">&times;</button>\n    </div>\n    <div class=\"modal-content\">\n      <div class=\"storage-info\">\n        <div class=\"capacity-bar\">\n          <div\n            class=\"capacity-fill\"\n            :style=\"{ width: capacityPercentage + '%' }\"\n          ></div>\n        </div>\n        <div class=\"capacity-text\">\n          {{ totalHoney.toFixed(1) }}kg / {{ honeyCapacity }}kg\n        </div>\n        <button\n          @click=\"upgradeStorage\"\n          class=\"upgrade-button\"\n          :disabled=\"!canUpgradeStorage\"\n        >\n          擴充倉庫 (¥{{ upgradeCost }})\n        </button>\n      </div>\n\n      <h3>蜂蜜庫存</h3>\n      <div class=\"honey-list\">\n        <div\n          v-for=\"(amount, type) in inventory\"\n          :key=\"type\"\n          class=\"honey-item\"\n          v-show=\"amount > 0 || allHoneyTypes[type]\"\n        >\n          <div class=\"honey-info\">\n            <div\n              class=\"honey-color\"\n              :style=\"{ backgroundColor: honeyTypeColor(type) }\"\n            ></div>\n            <div class=\"honey-details\">\n              <h3>{{ honeyTypeName(type) }}</h3>\n              <p>{{ honeyTypeDescription(type) }}</p>\n              <div class=\"honey-amount\">{{ amount.toFixed(1) }}kg</div>\n            </div>\n          </div>\n          <div class=\"honey-actions\">\n            <div class=\"sell-controls\">\n              <input\n                type=\"number\"\n                min=\"0.1\"\n                :max=\"amount\"\n                step=\"0.1\"\n                v-model.number=\"sellAmounts[type]\"\n                :disabled=\"amount <= 0\"\n              />\n              <button\n                @click=\"sellHoney(type)\"\n                :disabled=\"!canSell(type)\"\n                class=\"sell-button\"\n              >\n                出售 (¥{{ calculateSellValue(type) }})\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <h3>客戶訂單</h3>\n      <div class=\"orders-list\">\n        <div v-if=\"activeOrders.length === 0\" class=\"no-orders\">\n          目前沒有訂單，請等待客戶下單。\n        </div>\n        <div\n          v-for=\"(order, index) in activeOrders\"\n          :key=\"order.id\"\n          class=\"order-item\"\n        >\n          <div class=\"order-header\">\n            <h3>{{ order.customer }}的訂單</h3>\n            <div class=\"order-expiry\">\n              剩餘時間: {{ formatRemainingTime(order.expiryTime) }}\n            </div>\n          </div>\n          <div class=\"order-requirements\">\n            <div\n              v-for=\"(req, reqIndex) in order.requirements\"\n              :key=\"reqIndex\"\n              class=\"requirement-item\"\n            >\n              <div\n                class=\"honey-color\"\n                :style=\"{ backgroundColor: honeyTypeColor(req.type) }\"\n              ></div>\n              <span>{{ honeyTypeName(req.type) }}</span>\n              <span class=\"requirement-amount\">\n                {{ req.amount }}kg /\n                {{ Math.min(req.amount, inventory[req.type]).toFixed(1) }}kg\n              </span>\n            </div>\n          </div>\n          <div class=\"order-value\">\n            <div class=\"base-value\">基本價值: ¥{{ order.baseValue }}</div>\n            <div class=\"bonus-value\">獎勵: ¥{{ order.bonusValue }}</div>\n            <div class=\"total-value\">總價: ¥{{ order.totalValue }}</div>\n          </div>\n          <button\n            @click=\"fulfillOrder(index)\"\n            :disabled=\"!canFulfillOrder(order)\"\n            class=\"fulfill-button\"\n          >\n            完成訂單\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { mapState } from \"vuex\";\n\n  export default {\n    props: {\n      isActive: {\n        type: Boolean,\n        default: false,\n      },\n    },\n    data() {\n      return {\n        sellAmounts: {\n          common: 1.0,\n          wildflower: 1.0,\n          mountain: 1.0,\n          rare: 1.0,\n        },\n      };\n    },\n    computed: {\n      ...mapState({\n        inventory: (state) => state.honey.inventory,\n        honeyCapacity: (state) => state.honey.capacity,\n        activeOrders: (state) => state.orders.active,\n        allHoneyTypes: (state) => state.honey.honeyTypes,\n        money: (state) => state.money,\n      }),\n\n      totalHoney() {\n        return Object.values(this.inventory).reduce(\n          (sum, amount) => sum + amount,\n          0\n        );\n      },\n\n      capacityPercentage() {\n        return (this.totalHoney / this.honeyCapacity) * 100;\n      },\n\n      upgradeCost() {\n        return Math.floor(this.honeyCapacity * 1.2);\n      },\n\n      canUpgradeStorage() {\n        return this.money >= this.upgradeCost;\n      },\n    },\n    methods: {\n      closeModal() {\n        this.$emit(\"close-modal\");\n      },\n\n      honeyTypeName(type) {\n        return this.allHoneyTypes[type]?.name || type;\n      },\n\n      honeyTypeDescription(type) {\n        return this.allHoneyTypes[type]?.description || \"\";\n      },\n\n      honeyTypeColor(type) {\n        return this.allHoneyTypes[type]?.color || \"#cccccc\";\n      },\n\n      calculateSellValue(type) {\n        const amount = this.sellAmounts[type] || 0;\n        const price = this.allHoneyTypes[type]?.basePrice * 0.9 || 0;\n        return Math.floor(amount * price);\n      },\n\n      canSell(type) {\n        const amount = this.sellAmounts[type] || 0;\n        return amount > 0 && amount <= this.inventory[type];\n      },\n\n      sellHoney(type) {\n        if (!this.canSell(type)) return;\n\n        this.$store.dispatch(\"honey/sellHoneyByType\", {\n          type,\n          amount: this.sellAmounts[type],\n        });\n      },\n\n      upgradeStorage() {\n        this.$store.dispatch(\"honey/upgradeHoneyStorage\");\n      },\n\n      canFulfillOrder(order) {\n        for (const req of order.requirements) {\n          if (this.inventory[req.type] < req.amount) {\n            return false;\n          }\n        }\n        return true;\n      },\n\n      fulfillOrder(index) {\n        this.$store.dispatch(\"orders/fulfillOrder\", index);\n      },\n\n      formatRemainingTime(expiryTime) {\n        const now = Date.now();\n        const remainingMs = expiryTime - now;\n\n        if (remainingMs <= 0) return \"已過期\";\n\n        const hours = Math.floor(remainingMs / (60 * 60 * 1000));\n        const minutes = Math.floor(\n          (remainingMs % (60 * 60 * 1000)) / (60 * 1000)\n        );\n\n        return `${hours}小時${minutes}分鐘`;\n      },\n    },\n  };\n</script>\n\n<style scoped>\n\n  .modal-background {\n    display: none;\n  }\n\n  .modal-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 15px 20px;\n    border-bottom: 1px solid #e0d8c8;\n  }\n\n  .modal-header h2 {\n    margin: 0;\n    color: #8b5a00;\n  }\n\n  .modal-close {\n    background: none;\n    border: none;\n    font-size: 1.5rem;\n    cursor: pointer;\n    color: #8c6d3c;\n  }\n\n  .modal-close:hover {\n    color: #5d4215;\n  }\n\n  .modal-content {\n    position: relative;\n    background-color: #fff;\n    border-radius: 8px;\n    padding: 20px;\n    max-height: 80vh;\n    overflow-y: auto;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(0, 0, 0, 0.05);\n    margin: 0;\n    animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n  }\n\n  @keyframes popIn {\n    0% {\n      opacity: 0;\n      transform: scale(0.95);\n    }\n    100% {\n      opacity: 1;\n      transform: scale(1);\n    }\n  }\n\n  .storage-info {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 10px;\n    margin-bottom: 20px;\n    background-color: #f9f5ea;\n    padding: 15px;\n    border-radius: 8px;\n  }\n\n  .capacity-bar {\n    width: 100%;\n    height: 20px;\n    background-color: #f0f0f0;\n    border-radius: 10px;\n    overflow: hidden;\n  }\n\n  .capacity-fill {\n    height: 100%;\n    background-color: #ffcc00;\n    transition: width 0.3s;\n  }\n\n  .capacity-text {\n    font-weight: bold;\n    color: #5d4215;\n  }\n\n  .upgrade-button {\n    background-color: #4caf50;\n    color: white;\n    border: none;\n    padding: 8px 16px;\n    border-radius: 4px;\n    cursor: pointer;\n    margin-top: 5px;\n  }\n\n  .upgrade-button:disabled {\n    background-color: #cccccc;\n    cursor: not-allowed;\n  }\n\n  /* 蜂蜜列表樣式 */\n  .honey-list {\n    display: flex;\n    flex-direction: column;\n    gap: 15px;\n    margin-bottom: 20px;\n  }\n\n  .honey-item {\n    display: flex;\n    justify-content: space-between;\n    background-color: #f9f5ea;\n    padding: 15px;\n    border-radius: 8px;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  }\n\n  .honey-info {\n    display: flex;\n    gap: 15px;\n    flex: 1;\n  }\n\n  .honey-color {\n    width: 30px;\n    height: 30px;\n    border-radius: 50%;\n    align-self: center;\n  }\n\n  .honey-details {\n    flex: 1;\n  }\n\n  .honey-details h3 {\n    margin: 0 0 5px 0;\n    color: #8b5a00;\n    font-size: 1rem;\n  }\n\n  .honey-details p {\n    margin: 0 0 10px 0;\n    font-size: 0.9em;\n    color: #666;\n  }\n\n  .honey-amount {\n    font-weight: bold;\n    font-size: 1.1em;\n    color: #5d4215;\n  }\n\n  .honey-actions {\n    display: flex;\n    align-items: center;\n  }\n\n  .sell-controls {\n    display: flex;\n    gap: 10px;\n    align-items: center;\n  }\n\n  .sell-controls input {\n    width: 60px;\n    padding: 5px;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n  }\n\n  .sell-button {\n    background-color: #4caf50;\n    color: white;\n    border: none;\n    padding: 8px 12px;\n    border-radius: 4px;\n    cursor: pointer;\n    white-space: nowrap;\n  }\n\n  .sell-button:disabled {\n    background-color: #cccccc;\n    cursor: not-allowed;\n  }\n\n  /* 訂單列表樣式 */\n  h3 {\n    margin-top: 20px;\n    margin-bottom: 15px;\n    color: #5d4215;\n    border-bottom: 1px solid #e0d8c8;\n    padding-bottom: 8px;\n  }\n\n  .orders-list {\n    display: flex;\n    flex-direction: column;\n    gap: 15px;\n  }\n\n  .order-item {\n    background-color: #f9f5ea;\n    padding: 15px;\n    border-radius: 8px;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  }\n\n  .order-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 10px;\n  }\n\n  .order-header h3 {\n    margin: 0;\n    color: #8b5a00;\n    border-bottom: none;\n    padding-bottom: 0;\n    font-size: 1rem;\n  }\n\n  .order-expiry {\n    color: #e53935;\n    font-weight: bold;\n    font-size: 0.9em;\n  }\n\n  .order-requirements {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    margin-bottom: 15px;\n  }\n\n  .requirement-item {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n  }\n\n  .requirement-amount {\n    margin-left: auto;\n    font-weight: bold;\n  }\n\n  .order-value {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 10px;\n    margin-bottom: 15px;\n    background-color: rgba(255, 255, 255, 0.5);\n    padding: 10px;\n    border-radius: 6px;\n  }\n\n  .base-value,\n  .bonus-value {\n    flex: 1;\n    min-width: 120px;\n  }\n\n  .total-value {\n    font-weight: bold;\n    font-size: 1.1em;\n    flex: 100%;\n    color: #5d4215;\n  }\n\n  .fulfill-button {\n    background-color: #8b5a00;\n    color: white;\n    border: none;\n    padding: 10px;\n    border-radius: 4px;\n    cursor: pointer;\n    width: 100%;\n  }\n\n  .fulfill-button:disabled {\n    background-color: #cccccc;\n    cursor: not-allowed;\n  }\n\n  .no-orders {\n    text-align: center;\n    padding: 20px;\n    color: #8c6d3c;\n    font-style: italic;\n  }\n</style>\n","import { render } from \"./HoneyStorageModal.vue?vue&type=template&id=6435ef66&scoped=true\"\nimport script from \"./HoneyStorageModal.vue?vue&type=script&lang=js\"\nexport * from \"./HoneyStorageModal.vue?vue&type=script&lang=js\"\n\nimport \"./HoneyStorageModal.vue?vue&type=style&index=0&id=6435ef66&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6435ef66\"]])\n\nexport default __exports__","<template>\n    <div class=\"modal\" :class=\"{ active: isActive, hidden: !isActive }\">\n      <div class=\"modal-header\">\n        <h2>任務版</h2>\n        <button class=\"modal-close\" @click=\"$emit('close-modal')\">&times;</button>\n      </div>\n      <div class=\"modal-content\">\n        <div class=\"tasks-container\">\n          <div class=\"tasks-tabs\">\n            <button \n              :class=\"['tab-button', { active: activeTab === 'daily' }]\" \n              @click=\"activeTab = 'daily'\"\n            >\n              每日任務\n            </button>\n            <button \n              :class=\"['tab-button', { active: activeTab === 'weekly' }]\" \n              @click=\"activeTab = 'weekly'\"\n            >\n              每週任務\n            </button>\n            <button \n              :class=\"['tab-button', { active: activeTab === 'main' }]\" \n              @click=\"activeTab = 'main'\"\n            >\n              主線任務\n            </button>\n          </div>\n          \n          <div class=\"tasks-list\">\n            <div v-if=\"filteredTasks.length === 0\" class=\"no-tasks\">\n              目前沒有可用的任務，請稍後再來！\n            </div>\n            \n            <div v-for=\"task in filteredTasks\" :key=\"task.id\" class=\"task-item\">\n              <div class=\"task-content\">\n                <div class=\"task-header\">\n                  <h3 class=\"task-title\">{{ task.title }}</h3>\n                  <div class=\"task-reward\">\n                    <span>獎勵: </span>\n                    <span v-if=\"task.rewards.money\">¥{{ task.rewards.money }}</span>\n                    <span v-if=\"task.rewards.honey\"> + {{ task.rewards.honey }}kg 蜂蜜</span>\n                    <span v-if=\"task.rewards.bees\"> + {{ task.rewards.bees }} 隻蜜蜂</span>\n                  </div>\n                </div>\n                \n                <p class=\"task-description\">{{ task.description }}</p>\n                \n                <div class=\"task-progress\">\n                  <div class=\"progress-bar\">\n                    <div \n                      class=\"progress-fill\" \n                      :style=\"{ width: `${calculateProgress(task)}%` }\"\n                    ></div>\n                  </div>\n                  <div class=\"progress-text\">\n                    {{ task.currentValue || 0 }} / {{ task.targetValue }} {{ task.unit || '' }}\n                  </div>\n                </div>\n              </div>\n              \n              <button \n                @click=\"claimReward(task)\" \n                class=\"claim-button\" \n                :disabled=\"!task.canClaim\"\n                :class=\"{ completed: task.completed }\"\n              >\n                {{ task.completed ? '已完成' : (task.canClaim ? '領取獎勵' : '進行中') }}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import { mapState, mapActions } from 'vuex';\n  \n  export default {\n    props: {\n      isActive: {\n        type: Boolean,\n        default: false\n      }\n    },\n    \n    data() {\n      return {\n        activeTab: 'daily',\n      };\n    },\n    \n    computed: {\n      ...mapState({\n        tasks: state => state.tasks.tasks\n      }),\n      \n      filteredTasks() {\n        return this.tasks.filter(task => task.type === this.activeTab);\n      }\n    },\n    \n    methods: {\n      ...mapActions({\n        claimTaskReward: 'tasks/claimReward',\n        refreshTasks: 'tasks/refreshTasks'\n      }),\n      \n      calculateProgress(task) {\n        if (task.targetValue <= 0) return 0;\n        const progress = Math.min(100, (task.currentValue / task.targetValue) * 100);\n        return progress;\n      },\n      \n      claimReward(task) {\n        if (task.canClaim && !task.completed) {\n          this.claimTaskReward(task.id);\n        }\n      }\n    },\n    \n    mounted() {\n      // 當任務版開啟時，刷新任務\n      if (this.isActive) {\n        this.refreshTasks();\n      }\n    },\n    \n    watch: {\n      isActive(newValue) {\n        if (newValue) {\n          this.refreshTasks();\n        }\n      }\n    }\n  }\n  </script>\n  \n  <style scoped>\n  .modal-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 15px 20px;\n    border-bottom: 1px solid #e0d8c8;\n  }\n  \n  .modal-header h2 {\n    margin: 0;\n    color: #d4a017;\n    border-bottom: none;\n    padding-bottom: 0;\n  }\n  \n  .modal-close {\n    background: none;\n    border: none;\n    font-size: 1.5rem;\n    cursor: pointer;\n    color: #8c6d3c;\n  }\n  \n  .modal-close:hover {\n    color: #5d4215;\n  }\n  \n  .tasks-container {\n    padding: 20px;\n  }\n  \n  .tasks-tabs {\n    display: flex;\n    margin-bottom: 20px;\n    border-bottom: 2px solid #f0e8d6;\n  }\n  \n  .tab-button {\n    padding: 10px 15px;\n    background: none;\n    border: none;\n    border-bottom: 3px solid transparent;\n    font-size: 1rem;\n    font-weight: bold;\n    color: #8c6d3c;\n    cursor: pointer;\n    transition: all 0.2s;\n  }\n  \n  .tab-button.active {\n    color: #d4a017;\n    border-bottom-color: #d4a017;\n  }\n  \n  .tab-button:hover {\n    background-color: #f9f5ea;\n  }\n  \n  .tasks-list {\n    display: flex;\n    flex-direction: column;\n    gap: 15px;\n  }\n  \n  .task-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 15px;\n    background-color: #f9f5ea;\n    border-radius: 8px;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  }\n  \n  .task-content {\n    flex: 1;\n  }\n  \n  .task-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 10px;\n  }\n  \n  .task-title {\n    margin: 0;\n    font-size: 1.1rem;\n    color: #5d4215;\n  }\n  \n  .task-reward {\n    font-size: 0.9rem;\n    font-weight: bold;\n    color: #d4a017;\n  }\n  \n  .task-description {\n    margin-bottom: 15px;\n    color: #666;\n    font-size: 0.95rem;\n  }\n  \n  .task-progress {\n    margin-top: 10px;\n  }\n  \n  .progress-bar {\n    height: 8px;\n    background-color: #e0e0e0;\n    border-radius: 4px;\n    overflow: hidden;\n    margin-bottom: 5px;\n  }\n  \n  .progress-fill {\n    height: 100%;\n    background-color: #4caf50;\n    transition: width 0.3s;\n  }\n  \n  .progress-text {\n    font-size: 0.85rem;\n    text-align: right;\n    color: #666;\n  }\n  \n  .claim-button {\n    min-width: 100px;\n    padding: 8px 12px;\n    border: none;\n    border-radius: 4px;\n    background-color: #4caf50;\n    color: white;\n    font-weight: bold;\n    cursor: pointer;\n    transition: all 0.2s;\n  }\n  \n  .claim-button:hover:not(:disabled) {\n    background-color: #388e3c;\n  }\n  \n  .claim-button:disabled {\n    background-color: #e0e0e0;\n    color: #9e9e9e;\n    cursor: not-allowed;\n  }\n  \n  .claim-button.completed {\n    background-color: #9e9e9e;\n  }\n  \n  .no-tasks {\n    padding: 30px;\n    text-align: center;\n    color: #666;\n    font-style: italic;\n  }\n  </style>","import { render } from \"./TasksModal.vue?vue&type=template&id=d39ce0d8&scoped=true\"\nimport script from \"./TasksModal.vue?vue&type=script&lang=js\"\nexport * from \"./TasksModal.vue?vue&type=script&lang=js\"\n\nimport \"./TasksModal.vue?vue&type=style&index=0&id=d39ce0d8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d39ce0d8\"]])\n\nexport default __exports__","<template>\n    <div class=\"modal\" :class=\"{ active: isActive, hidden: !isActive }\">\n      <div class=\"modal-header\">\n        <h2>成就殿堂</h2>\n        <button class=\"modal-close\" @click=\"$emit('close-modal')\">&times;</button>\n      </div>\n      <div class=\"modal-content\">\n        <div class=\"achievements-container\">\n          <div class=\"achievements-stats\">\n            <div class=\"stat-item\">\n              <span class=\"stat-value\">{{ unlockedCount }}</span>\n              <span class=\"stat-label\">已解鎖</span>\n            </div>\n            <div class=\"stat-item\">\n              <span class=\"stat-value\">{{ totalAchievements }}</span>\n              <span class=\"stat-label\">總成就數</span>\n            </div>\n            <div class=\"stat-item\">\n              <span class=\"stat-value\">{{ completionPercentage }}%</span>\n              <span class=\"stat-label\">完成度</span>\n            </div>\n          </div>\n          \n          <div class=\"achievements-categories\">\n            <button \n              v-for=\"category in categories\" \n              :key=\"category.id\"\n              :class=\"['category-button', { active: activeCategory === category.id }]\"\n              @click=\"activeCategory = category.id\"\n            >\n              {{ category.name }}\n            </button>\n          </div>\n          \n          <div class=\"achievements-list\">\n            <div v-for=\"achievement in filteredAchievements\" :key=\"achievement.id\" \n              :class=\"['achievement-item', { 'unlocked': achievement.unlocked }]\">\n              <div class=\"achievement-icon\">\n                <span v-if=\"achievement.unlocked\">{{ achievement.icon }}</span>\n                <span v-else>🔒</span>\n              </div>\n              <div class=\"achievement-content\">\n                <h3 class=\"achievement-title\">{{ achievement.title }}</h3>\n                <p class=\"achievement-description\">\n                  {{ achievement.unlocked ? achievement.description : achievement.hint || '???' }}\n                </p>\n                <div v-if=\"!achievement.unlocked && achievement.progress > 0\" class=\"achievement-progress\">\n                  <div class=\"progress-bar\">\n                    <div \n                      class=\"progress-fill\" \n                      :style=\"{ width: `${(achievement.progress / achievement.target) * 100}%` }\"\n                    ></div>\n                  </div>\n                  <div class=\"progress-text\">\n                    {{ achievement.progress }} / {{ achievement.target }}\n                  </div>\n                </div>\n                <div v-if=\"achievement.unlocked\" class=\"unlock-date\">\n                  解鎖於: {{ formatDate(achievement.unlockedAt) }}\n                </div>\n              </div>\n            </div>\n            \n            <div v-if=\"filteredAchievements.length === 0\" class=\"no-achievements\">\n              這個類別還沒有成就，繼續努力探索吧！\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import { mapState, mapGetters } from 'vuex';\n  \n  export default {\n    props: {\n      isActive: {\n        type: Boolean,\n        default: false\n      }\n    },\n    \n    data() {\n      return {\n        activeCategory: 'all'\n      };\n    },\n    \n    computed: {\n      ...mapState({\n        achievements: state => state.achievements.achievements\n      }),\n      \n      ...mapGetters({\n        unlockedAchievements: 'achievements/unlockedAchievements'\n      }),\n      \n      categories() {\n        return [\n          { id: 'all', name: '全部' },\n          { id: 'bees', name: '蜜蜂' },\n          { id: 'honey', name: '蜂蜜' },\n          { id: 'foraging', name: '採集' },\n          { id: 'orders', name: '訂單' },\n          { id: 'challenges', name: '挑戰' }\n        ];\n      },\n      \n      filteredAchievements() {\n        if (this.activeCategory === 'all') {\n          return this.achievements;\n        }\n        return this.achievements.filter(a => a.category === this.activeCategory);\n      },\n      \n      unlockedCount() {\n        return this.unlockedAchievements.length;\n      },\n      \n      totalAchievements() {\n        return this.achievements.length;\n      },\n      \n      completionPercentage() {\n        if (this.totalAchievements === 0) return 0;\n        return Math.round((this.unlockedCount / this.totalAchievements) * 100);\n      }\n    },\n    \n    methods: {\n      formatDate(timestamp) {\n        if (!timestamp) return '未知';\n        const date = new Date(timestamp);\n        return date.toLocaleDateString('zh-TW');\n      }\n    }\n  }\n  </script>\n  \n  <style scoped>\n  .modal-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 15px 20px;\n    border-bottom: 1px solid #e0d8c8;\n  }\n  \n  .modal-header h2 {\n    margin: 0;\n    color: #7b1fa2;\n    border-bottom: none;\n    padding-bottom: 0;\n  }\n  \n  .modal-close {\n    background: none;\n    border: none;\n    font-size: 1.5rem;\n    cursor: pointer;\n    color: #8c6d3c;\n  }\n  \n  .modal-close:hover {\n    color: #5d4215;\n  }\n  \n  .achievements-container {\n    padding: 20px;\n  }\n  \n  .achievements-stats {\n    display: flex;\n    justify-content: space-around;\n    padding: 15px;\n    background-color: #f3e5f5;\n    border-radius: 8px;\n    margin-bottom: 20px;\n  }\n  \n  .stat-item {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n  \n  .stat-value {\n    font-size: 1.5rem;\n    font-weight: bold;\n    color: #7b1fa2;\n  }\n  \n  .stat-label {\n    font-size: 0.9rem;\n    color: #6a1b9a;\n  }\n  \n  .achievements-categories {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 10px;\n    margin-bottom: 20px;\n  }\n  \n  .category-button {\n    padding: 8px 15px;\n    background-color: #e1bee7;\n    border: none;\n    border-radius: 20px;\n    color: #6a1b9a;\n    font-weight: bold;\n    cursor: pointer;\n    transition: all 0.2s;\n  }\n  \n  .category-button.active {\n    background-color: #7b1fa2;\n    color: white;\n  }\n  \n  .category-button:hover:not(.active) {\n    background-color: #ce93d8;\n  }\n  \n  .achievements-list {\n    display: flex;\n    flex-direction: column;\n    gap: 15px;\n  }\n  \n  .achievement-item {\n    display: flex;\n    gap: 15px;\n    padding: 15px;\n    background-color: #f9f5ea;\n    border-radius: 8px;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n    opacity: 0.7;\n    transition: all 0.2s;\n  }\n  \n  .achievement-item.unlocked {\n    background-color: #f3e5f5;\n    opacity: 1;\n    border-left: 5px solid #7b1fa2;\n  }\n  \n  .achievement-icon {\n    width: 50px;\n    height: 50px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 2rem;\n    background-color: #e1bee7;\n    border-radius: 50%;\n    flex-shrink: 0;\n  }\n  \n  .achievement-item.unlocked .achievement-icon {\n    background-color: #9c27b0;\n    color: white;\n  }\n  \n  .achievement-content {\n    flex: 1;\n  }\n  \n  .achievement-title {\n    margin: 0 0 5px 0;\n    font-size: 1.1rem;\n    color: #5d4215;\n  }\n  \n  .achievement-item.unlocked .achievement-title {\n    color: #7b1fa2;\n  }\n  \n  .achievement-description {\n    margin: 0 0 10px 0;\n    color: #666;\n    font-size: 0.95rem;\n  }\n  \n  .achievement-progress {\n    margin-top: 10px;\n  }\n  \n  .progress-bar {\n    height: 6px;\n    background-color: #e0e0e0;\n    border-radius: 3px;\n    overflow: hidden;\n    margin-bottom: 5px;\n  }\n  \n  .progress-fill {\n    height: 100%;\n    background-color: #9c27b0;\n    transition: width 0.3s;\n  }\n  \n  .progress-text {\n    font-size: 0.85rem;\n    text-align: right;\n    color: #666;\n  }\n  \n  .unlock-date {\n    font-size: 0.85rem;\n    color: #7b1fa2;\n    margin-top: 5px;\n  }\n  \n  .no-achievements {\n    padding: 30px;\n    text-align: center;\n    color: #666;\n    font-style: italic;\n  }\n  </style>","import { render } from \"./AchievementsModal.vue?vue&type=template&id=61b36fc0&scoped=true\"\nimport script from \"./AchievementsModal.vue?vue&type=script&lang=js\"\nexport * from \"./AchievementsModal.vue?vue&type=script&lang=js\"\n\nimport \"./AchievementsModal.vue?vue&type=style&index=0&id=61b36fc0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-61b36fc0\"]])\n\nexport default __exports__","import { render } from \"./GameView.vue?vue&type=template&id=3f3cadb2\"\nimport script from \"./GameView.vue?vue&type=script&lang=js\"\nexport * from \"./GameView.vue?vue&type=script&lang=js\"\n\nimport \"./GameView.vue?vue&type=style&index=0&id=3f3cadb2&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\nimport LoginView from '../views/LoginView.vue'\nimport GameView from '../views/GameView.vue'\n\nconst routes = [\n  {\n    path: '/',\n    redirect: '/login'\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: LoginView\n  },\n  {\n    path: '/game',\n    name: 'game',\n    component: GameView\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\nexport default router\n","export default {\n  namespaced: true,\n\n  state: {\n    bees: 0,\n    hiveLevel: 1,\n    hiveHealth: 100,\n    hiveCapacity: 10,\n    honeyPerBeePerMinute: 0.1,\n    costs: {\n      bee: 50,\n      hiveUpgrade: 200,\n    },\n    assignedBees: 0,\n  },\n\n  getters: {\n    healthColorStyle(state) {\n      if (state.hiveHealth < 30) {\n        return { color: \"#e53935\" };\n      } else if (state.hiveHealth < 60) {\n        return { color: \"#ff9800\" };\n      } else {\n        return { color: \"#4caf50\" };\n      }\n    },\n\n    canBuyBee(state, getters, rootState) {\n      return (\n        rootState.money >= state.costs.bee && state.bees < state.hiveCapacity\n      );\n    },\n\n    canUpgradeHive(state, getters, rootState) {\n      return rootState.money >= state.costs.hiveUpgrade;\n    },\n\n    availableBees(state) {\n      return state.bees - (state.assignedBees || 0);\n    },\n  },\n\n  mutations: {\n    SET_BEES(state, amount) {\n      state.bees = amount;\n    },\n\n    ADD_BEES(state, amount) {\n      state.bees += amount;\n    },\n\n    REMOVE_BEES(state, amount) {\n      state.bees = Math.max(0, state.bees - amount);\n    },\n\n    // 派遣蜜蜂到採蜜任務\n    ASSIGN_BEES(state, count) {\n      state.assignedBees = (state.assignedBees || 0) + count;\n    },\n\n    // 從採蜜任務歸還蜜蜂\n    RETURN_BEES(state, count) {\n      state.assignedBees = Math.max(0, (state.assignedBees || 0) - count);\n    },\n\n    SET_HIVE_LEVEL(state, level) {\n      state.hiveLevel = level;\n    },\n\n    SET_HIVE_CAPACITY(state, capacity) {\n      state.hiveCapacity = capacity;\n    },\n\n    SET_HONEY_EFFICIENCY(state, efficiency) {\n      state.honeyPerBeePerMinute = efficiency;\n    },\n\n    SET_COSTS(state, costs) {\n      state.costs = costs;\n    },\n\n    SET_HIVE_HEALTH(state, amount) {\n      state.hiveHealth = Math.min(100, Math.max(0, amount));\n    },\n\n    UPGRADE_HIVE(state) {\n      state.hiveLevel += 1;\n      state.hiveCapacity += 5;\n      state.honeyPerBeePerMinute += 0.05;\n      state.costs.hiveUpgrade = Math.floor(state.costs.hiveUpgrade * 1.5);\n    },\n\n    SET_ASSIGNED_BEES(state, count) {\n      state.assignedBees = count;\n    },\n  },\n\n  actions: {\n    // 購買蜜蜂\n    buyBee({ state, commit, rootGetters, dispatch }) {\n      if (!rootGetters[\"bees/canBuyBee\"]) return;\n\n      commit(\"REMOVE_MONEY\", state.costs.bee, { root: true });\n      commit(\"ADD_BEES\", 1);\n\n      dispatch(\n        \"showNotification\",\n        {\n          message: \"購買了1隻新蜜蜂！\",\n          type: \"success\",\n        },\n        { root: true }\n      );\n\n      dispatch(\"tasks/trackBuyBee\", null, { root: true });\n      dispatch(\"achievements/checkAchievements\", null, { root: true });\n    },\n\n    // 升級蜂巢\n    upgradeHive({ state, commit, rootGetters, dispatch }) {\n      if (!rootGetters[\"bees/canUpgradeHive\"]) return;\n\n      commit(\"REMOVE_MONEY\", state.costs.hiveUpgrade, { root: true });\n      commit(\"UPGRADE_HIVE\");\n\n      dispatch(\n        \"showNotification\",\n        {\n          message: `蜂巢升級到等級 ${state.hiveLevel}！容量和效率提升了`,\n          type: \"success\",\n        },\n        { root: true }\n      );\n\n      dispatch(\"tasks/trackUpgradeHive\", null, { root: true });\n      dispatch(\"achievements/checkAchievements\", null, { root: true });\n    },\n\n    // 檢查蜂巢\n    checkHive({ state, commit, dispatch }) {\n      dispatch(\n        \"laborTasks/startLaborTask\",\n        {\n          taskName: \"檢查蜂巢\",\n          clicksNeeded: 8,\n          onComplete: () => {\n            // 檢查可以發現問題並略微提升蜂群健康\n            commit(\"SET_HIVE_HEALTH\", state.hiveHealth + 5);\n\n            dispatch(\n              \"showNotification\",\n              {\n                message: \"檢查完成，蜂巢狀況良好！\",\n                type: \"success\",\n              },\n              { root: true }\n            );\n          },\n        },\n        { root: true }\n      );\n    },\n  },\n};\n","export default {\n  namespaced: true,\n\n  state: {\n    // 未收集的蜂蜜\n    production: 0,\n\n    // 已收集的蜂蜜\n    inventory: {\n      common: 0,\n      wildflower: 0,\n      mountain: 0,\n      rare: 0,\n    },\n    capacity: 100,\n\n    // 蜂蜜品種定義\n    honeyTypes: {\n      common: {\n        name: \"普通蜂蜜\",\n        basePrice: 10,\n        color: \"#ffcc00\",\n        description: \"最常見的蜂蜜，微甜且口感溫和。\",\n      },\n      wildflower: {\n        name: \"野花蜂蜜\",\n        basePrice: 15,\n        color: \"#ffa64d\",\n        description: \"採自各種野花，口感豐富，帶有花香。\",\n      },\n      mountain: {\n        name: \"山地蜂蜜\",\n        basePrice: 25,\n        color: \"#996633\",\n        description: \"來自高山植物，味道濃郁，營養價值高。\",\n      },\n      rare: {\n        name: \"稀有蜂蜜\",\n        basePrice: 50,\n        color: \"#e64d00\",\n        description: \"極為罕見的特殊蜂蜜，具有獨特的風味和藥用價值。\",\n      },\n    },\n  },\n\n  getters: {\n    // 能否收集蜂蜜\n    canCollectHoney(state) {\n      return state.production > 0;\n    },\n\n    // 倉庫中的總蜂蜜量\n    totalHoney(state) {\n      return Object.values(state.inventory).reduce(\n        (sum, amount) => sum + amount,\n        0\n      );\n    },\n\n    // 倉庫剩餘空間\n    availableSpace(state, getters) {\n      return Math.max(0, state.capacity - getters.totalHoney);\n    },\n\n    // 倉庫容量百分比\n    capacityPercentage(state, getters) {\n      return (getters.totalHoney / state.capacity) * 100;\n    },\n\n    // 升級倉庫的成本\n    upgradeCost(state) {\n      return Math.floor(state.capacity * 1.2);\n    },\n  },\n\n  mutations: {\n    // 添加特定類型的蜂蜜到倉庫\n    ADD_HONEY_BY_TYPE(state, { type, amount }) {\n      // 確保蜂蜜類型有效\n      if (!state.inventory[type]) {\n        state.inventory[type] = 0;\n      }\n\n      // 更新特定類型的蜂蜜\n      state.inventory[type] += amount;\n    },\n\n    // 從倉庫移除特定類型的蜂蜜\n    REMOVE_HONEY_BY_TYPE(state, { type, amount }) {\n      // 確保不會減到負數\n      const amountToRemove = Math.min(amount, state.inventory[type] || 0);\n\n      // 更新特定類型的蜂蜜\n      state.inventory[type] -= amountToRemove;\n\n      return amountToRemove; // 返回實際減少的量\n    },\n\n    // 設置倉庫容量\n    SET_HONEY_CAPACITY(state, capacity) {\n      state.capacity = capacity;\n    },\n\n    // 設置蜂蜜產出\n    SET_PRODUCTION(state, amount) {\n      state.production = amount;\n    },\n\n    // 增加未收集的蜂蜜產出\n    ADD_PRODUCTION(state, amount) {\n      state.production += amount;\n    },\n\n    // 清除未收集的蜂蜜產出\n    CLEAR_PRODUCTION(state) {\n      state.production = 0;\n    },\n  },\n\n  actions: {\n    // 生產蜂蜜 (由主循環呼叫)\n    produceHoney({ rootState, commit }) {\n      const bees = rootState.bees.bees;\n      const honeyPerBeePerMinute = rootState.bees.honeyPerBeePerMinute;\n      const weatherMultiplier = rootState.weather.effectMultiplier || 1.0;\n\n      const honeyProduction =\n        (bees * honeyPerBeePerMinute * weatherMultiplier) / 60;\n\n      // 只有當生產值大於0才添加\n      if (honeyProduction > 0) {\n        commit(\"ADD_PRODUCTION\", honeyProduction);\n      }\n    },\n\n    // 擴充蜂蜜倉庫\n    upgradeHoneyStorage({ getters, rootState, commit, dispatch }) {\n      const cost = getters.upgradeCost;\n\n      if (rootState.money < cost) {\n        dispatch(\n          \"showNotification\",\n          {\n            message: `金錢不足！擴充倉庫需要${cost}元`,\n            type: \"warning\",\n          },\n          { root: true }\n        );\n        return;\n      }\n\n      // 扣除費用\n      commit(\"REMOVE_MONEY\", cost, { root: true });\n\n      // 增加50kg容量\n      const newCapacity = Math.floor(getters.upgradeCost / 1.2) + 50;\n      commit(\"SET_HONEY_CAPACITY\", newCapacity);\n\n      dispatch(\n        \"showNotification\",\n        {\n          message: `倉庫已擴充！新容量: ${newCapacity}kg`,\n          type: \"success\",\n        },\n        { root: true }\n      );\n    },\n\n    // 直接出售特定類型的蜂蜜\n    sellHoneyByType({ state, commit, dispatch }, { type, amount }) {\n      // 檢查庫存\n      if (state.inventory[type] < amount) {\n        dispatch(\n          \"showNotification\",\n          {\n            message: `${state.honeyTypes[type].name}庫存不足！`,\n            type: \"warning\",\n          },\n          { root: true }\n        );\n        return;\n      }\n\n      // 計算價值 (直接賣出略低於訂單價格)\n      const price = state.honeyTypes[type].basePrice * 0.9;\n      const value = Math.floor(amount * price);\n\n      // 減少蜂蜜\n      commit(\"REMOVE_HONEY_BY_TYPE\", { type, amount });\n\n      // 增加金錢\n      commit(\"ADD_MONEY\", value, { root: true });\n\n      dispatch(\n        \"showNotification\",\n        {\n          message: `已出售${amount}kg ${state.honeyTypes[type].name}，獲得${value}元`,\n          type: \"success\",\n        },\n        { root: true }\n      );\n      dispatch(\"tasks/trackSellHoney\", amount, { root: true });\n    },\n\n    // 採集蜂蜜 (存入倉庫)\n    collectHoney({ state, getters, commit, dispatch }) {\n      if (state.production <= 0) {\n        dispatch(\n          \"showNotification\",\n          {\n            message: \"沒有可收集的蜂蜜！\",\n            type: \"info\",\n          },\n          { root: true }\n        );\n        return;\n      }\n\n      // 檢查倉庫容量\n      if (getters.availableSpace <= 0) {\n        dispatch(\n          \"showNotification\",\n          {\n            message: \"蜂蜜倉庫已滿！請先出售一些蜂蜜或擴充倉庫。\",\n            type: \"warning\",\n          },\n          { root: true }\n        );\n        return;\n      }\n\n      // 使用勞力任務\n      dispatch(\n        \"laborTasks/startLaborTask\",\n        {\n          taskName: \"採集蜂蜜\",\n          clicksNeeded: 5,\n          onComplete: () => {\n            // 先保存當前蜂蜜產出量\n            const honeyToCollect = state.production;\n\n            // 計算實際可收集的蜂蜜量\n            const collectableAmount = Math.min(\n              honeyToCollect,\n              getters.availableSpace\n            );\n\n            // 隨機分配不同類型的蜂蜜\n            const typeChances = {\n              common: 0.7, // 70% 獲得普通蜂蜜\n              wildflower: 0.2, // 20% 獲得野花蜂蜜\n              mountain: 0.08, // 8% 獲得山地蜂蜜\n              rare: 0.02, // 2% 獲得稀有蜂蜜\n            };\n\n            // 決定每種蜂蜜的數量\n            const honeyDistribution = {};\n            let remainingHoney = collectableAmount;\n            let collectedAmount = 0;\n\n            for (const [type, chance] of Object.entries(typeChances)) {\n              if (remainingHoney <= 0) break;\n\n              // 計算這種類型的蜂蜜數量\n              const typeAmount = Math.min(\n                remainingHoney * chance * (1 + Math.random() * 0.5), // 添加一些隨機變化\n                remainingHoney\n              );\n\n              if (typeAmount > 0) {\n                honeyDistribution[type] = typeAmount;\n                remainingHoney -= typeAmount;\n                collectedAmount += typeAmount;\n\n                // 添加到倉庫\n                commit(\"ADD_HONEY_BY_TYPE\", {\n                  type,\n                  amount: typeAmount,\n                });\n              }\n            }\n\n            // 如果還有剩餘的蜂蜜（由於舍入或其他原因），添加到普通蜂蜜\n            if (remainingHoney > 0) {\n              commit(\"ADD_HONEY_BY_TYPE\", {\n                type: \"common\",\n                amount: remainingHoney,\n              });\n              honeyDistribution.common =\n                (honeyDistribution.common || 0) + remainingHoney;\n              collectedAmount += remainingHoney;\n            }\n\n            // 生成消息文本\n            let messageText = `成功收集了 ${collectedAmount.toFixed(\n              1\n            )}kg 蜂蜜到倉庫！`;\n            if (honeyToCollect > collectableAmount) {\n              messageText += ` (${(honeyToCollect - collectableAmount).toFixed(\n                1\n              )}kg 因倉庫空間不足而丟失)`;\n            }\n\n            // 更詳細的收集信息\n            const details = Object.entries(honeyDistribution)\n              .filter(([, amount]) => amount > 0)\n              .map(\n                ([type, amount]) =>\n                  `${state.honeyTypes[type].name}: ${amount.toFixed(1)}kg`\n              )\n              .join(\", \");\n\n            if (details) {\n              messageText += `\\n收集明細: ${details}`;\n            }\n\n            dispatch(\n              \"showNotification\",\n              {\n                message: messageText,\n                type: \"success\",\n              },\n              { root: true }\n            );\n\n            // 清空蜂蜜產出\n            commit(\"CLEAR_PRODUCTION\");\n            dispatch(\"tasks/trackCollectHoney\", collectedAmount, {\n              root: true,\n            });\n            dispatch(\"achievements/trackHoneyCollected\", collectedAmount, {\n              root: true,\n            });\n          },\n        },\n        { root: true }\n      );\n    },\n\n    // 全部蜂蜜出售\n    sellAllHoney({ state, getters, commit, dispatch }) {\n      if (getters.totalHoney <= 0) {\n        dispatch(\n          \"showNotification\",\n          {\n            message: \"倉庫中沒有蜂蜜可供出售！\",\n            type: \"warning\",\n          },\n          { root: true }\n        );\n        return;\n      }\n\n      let totalValue = 0;\n      let totalAmount = 0;\n\n      // 遍歷所有類型的蜂蜜\n      for (const type in state.inventory) {\n        const amount = state.inventory[type];\n        if (amount > 0) {\n          // 計算這種類型的價值\n          const price = state.honeyTypes[type].basePrice * 0.9;\n          const value = Math.floor(amount * price);\n\n          totalValue += value;\n          totalAmount += amount;\n\n          // 清空這種類型的蜂蜜\n          commit(\"REMOVE_HONEY_BY_TYPE\", { type, amount });\n        }\n      }\n\n      // 增加金錢\n      commit(\"ADD_MONEY\", totalValue, { root: true });\n\n      dispatch(\n        \"showNotification\",\n        {\n          message: `已出售所有蜂蜜 (${totalAmount.toFixed(\n            1\n          )}kg)，獲得${totalValue}元`,\n          type: \"success\",\n        },\n        { root: true }\n      );\n    },\n  },\n};\n","export default {\n    namespaced: true,\n    \n    state: {\n      active: [],\n      completed: 0,\n      maxActive: 3\n    },\n    \n    getters: {\n      hasNewOrders(state) {\n        return state.active.length > 0;\n      }\n    },\n    \n    mutations: {\n      ADD_ORDER(state, order) {\n        if (state.active.length < state.maxActive) {\n          state.active.push(order);\n        }\n      },\n      \n      REMOVE_ORDER(state, index) {\n        state.active.splice(index, 1);\n      },\n      \n      COMPLETE_ORDER(state) {\n        state.completed++;\n      },\n      \n      SET_ORDERS(state, orders) {\n        state.active = orders.active || [];\n        state.completed = orders.completed || 0;\n        state.maxActive = orders.maxActive || 3;\n      }\n    },\n    \n    actions: {\n      // 初始化訂單系統\n      initOrders({ dispatch }) {\n        // 設置訂單系統\n        setInterval(() => {\n          dispatch('generateOrder');\n          dispatch('checkExpiredOrders');\n        }, 30 * 60 * 1000); // 30分鐘\n        \n        // 初始生成1-2個訂單\n        const initialOrderCount = Math.floor(Math.random() * 2) + 1;\n        for (let i = 0; i < initialOrderCount; i++) {\n          dispatch('generateOrder');\n        }\n      },\n      \n      // 檢查過期訂單\n      checkExpiredOrders({ state, commit, dispatch }) {\n        const now = Date.now();\n        const expiredOrders = [];\n        \n        state.active.forEach((order, index) => {\n          if (order.expiryTime < now) {\n            expiredOrders.push(index);\n          }\n        });\n        \n        // 從後往前移除過期訂單\n        for (let i = expiredOrders.length - 1; i >= 0; i--) {\n          const orderIndex = expiredOrders[i];\n          const order = state.active[orderIndex];\n          \n          dispatch('showNotification', {\n            message: `${order.customer}的訂單已過期！`,\n            type: 'warning'\n          }, { root: true });\n          \n          commit('REMOVE_ORDER', orderIndex);\n        }\n      },\n      \n      // 生成新訂單\n      generateOrder({ state, commit, dispatch, rootState }) {\n        // 如果已達最大訂單數，不再生成\n        if (state.active.length >= state.maxActive) {\n          return;\n        }\n        \n        // 訂單要求的蜂蜜類型\n        const honeyTypes = Object.keys(rootState.honey.honeyTypes);\n        const requiredTypes = [];\n        \n        // 選擇1-3種蜂蜜類型\n        const typeCount = Math.floor(Math.random() * 3) + 1;\n        for (let i = 0; i < typeCount; i++) {\n          // 選擇一個尚未選擇的類型\n          let type;\n          do {\n            type = honeyTypes[Math.floor(Math.random() * honeyTypes.length)];\n          } while (requiredTypes.some(item => item.type === type));\n          \n          // 確定需求量\n          let amount;\n          switch (type) {\n            case 'common':\n              amount = Math.floor(Math.random() * 5) + 3; // 3-7kg\n              break;\n            case 'wildflower':\n              amount = Math.floor(Math.random() * 4) + 2; // 2-5kg\n              break;\n            case 'mountain':\n              amount = Math.floor(Math.random() * 3) + 1; // 1-3kg\n              break;\n            case 'rare':\n              amount = Math.random() < 0.7 ? 1 : 2; // 通常1kg，有時2kg\n              break;\n            default:\n              amount = 1;\n          }\n          \n          requiredTypes.push({ type, amount });\n        }\n        \n        // 計算訂單的基本價值\n        let baseValue = 0;\n        for (const item of requiredTypes) {\n          baseValue += item.amount * rootState.honey.honeyTypes[item.type].basePrice;\n        }\n        \n        // 添加額外獎勵 (10%-30%)\n        const bonusPercent = Math.floor(Math.random() * 21) + 10;\n        const bonusValue = Math.floor(baseValue * bonusPercent / 100);\n        const totalValue = baseValue + bonusValue;\n        \n        // 生成一個隨機客戶名稱\n        const customers = [\n          \"王大廚\", \"張麵包師\", \"甜點工坊\", \"健康食品店\", \n          \"李醫師\", \"有機商店\", \"山田農場\", \"日式料理店\",\n          \"五星飯店\", \"陳奶奶\", \"李爺爺\", \"美食博主\"\n        ];\n        \n        const customer = customers[Math.floor(Math.random() * customers.length)];\n        \n        // 生成過期時間 (12-36小時)\n        const expiryHours = Math.floor(Math.random() * 25) + 12;\n        const expiryTime = Date.now() + expiryHours * 60 * 60 * 1000;\n        \n        // 創建訂單對象\n        const order = {\n          id: Date.now(), // 唯一ID\n          customer,\n          requirements: requiredTypes,\n          baseValue,\n          bonusValue,\n          totalValue,\n          expiryTime,\n          createdAt: Date.now()\n        };\n        \n        // 添加訂單\n        commit('ADD_ORDER', order);\n        \n        // 通知玩家\n        dispatch('showNotification', {\n          message: `收到來自${customer}的新訂單！`,\n          type: 'info'\n        }, { root: true });\n      },\n      \n      // 完成訂單\n      fulfillOrder({ state, commit, dispatch, rootState }, orderIndex) {\n        const order = state.active[orderIndex];\n        if (!order) return;\n        \n        // 檢查是否有足夠的蜂蜜\n        let canFulfill = true;\n        for (const req of order.requirements) {\n          if (rootState.honey.inventory[req.type] < req.amount) {\n            canFulfill = false;\n            break;\n          }\n        }\n        \n        if (!canFulfill) {\n          dispatch('showNotification', {\n            message: '蜂蜜庫存不足，無法完成訂單！',\n            type: 'warning'\n          }, { root: true });\n          return;\n        }\n        \n        // 移除蜂蜜\n        for (const req of order.requirements) {\n          commit('honey/REMOVE_HONEY_BY_TYPE', { type: req.type, amount: req.amount }, { root: true });\n        }\n        \n        // 添加金錢\n        commit('ADD_MONEY', order.totalValue, { root: true });\n        \n        // 增加完成訂單數\n        commit('COMPLETE_ORDER');\n        \n        // 移除訂單\n        commit('REMOVE_ORDER', orderIndex);\n        \n        // 通知玩家\n        dispatch('showNotification', {\n          message: `成功完成${order.customer}的訂單！獲得${order.totalValue}元（含${order.bonusValue}元獎勵）`,\n          type: 'success'\n        }, { root: true });\n        \n        // 有機會獲得額外獎勵\n        if (Math.random() < 0.2) { // 20%幾率獲得額外獎勵\n          const extraRewards = [\n            { type: 'money', amount: Math.floor(Math.random() * 100) + 50, text: '額外小費' },\n            { type: 'bee', amount: 1, text: '贈送一隻蜜蜂' },\n            { type: 'health', amount: 10, text: '蜂巢健康度提升' }\n          ];\n          \n          const reward = extraRewards[Math.floor(Math.random() * extraRewards.length)];\n          \n          switch (reward.type) {\n            case 'money':\n              commit('ADD_MONEY', reward.amount, { root: true });\n              break;\n            case 'bee':\n              commit('bees/ADD_BEES', reward.amount, { root: true });\n              break;\n            case 'health': {\n              const newHealth = rootState.bees.hiveHealth + reward.amount;\n              commit('bees/SET_HIVE_HEALTH', newHealth, { root: true });\n              break;\n            }\n          }\n          \n          dispatch('showNotification', {\n            message: `${order.customer}很滿意！${reward.text}`,\n            type: 'success'\n          }, { root: true });\n\n          dispatch(\"tasks/trackFulfillOrder\", null, { root: true });\n          dispatch(\"achievements/checkAchievements\", null, { root: true });\n        }\n      }\n    }\n  };","export default {\n  namespaced: true,\n\n  state: {\n    activeMissions: [],\n    selectedArea: null,\n    maxMissions: 3,\n\n    // 採蜜區域\n    areas: {\n      garden: {\n        name: \"花園\",\n        description: \"接近蜂巢的花園，安全但花蜜較少\",\n        distance: 1,\n        baseDuration: 30, // 秒\n        reward: {\n          common: { min: 1, max: 3 },\n          wildflower: { min: 0, max: 1 },\n          mountain: { min: 0, max: 0 },\n          rare: { min: 0, max: 0 },\n        },\n        risk: 0.05, // 5% 失敗風險\n        beeCount: 1,\n      },\n      meadow: {\n        name: \"草地\",\n        description: \"附近的開闊草地，有更多品種的野花\",\n        distance: 2,\n        baseDuration: 60, // 秒\n        reward: {\n          common: { min: 2, max: 4 },\n          wildflower: { min: 1, max: 2 },\n          mountain: { min: 0, max: 0.5 },\n          rare: { min: 0, max: 0.1 },\n        },\n        risk: 0.1, // 10% 失敗風險\n        beeCount: 2,\n      },\n      forest: {\n        name: \"森林\",\n        description: \"距離較遠的森林，有許多獨特的花種\",\n        distance: 3,\n        baseDuration: 120, // 秒\n        reward: {\n          common: { min: 1, max: 2 },\n          wildflower: { min: 2, max: 4 },\n          mountain: { min: 1, max: 2 },\n          rare: { min: 0.1, max: 0.5 },\n        },\n        risk: 0.15, // 15% 失敗風險\n        beeCount: 3,\n      },\n      mountain: {\n        name: \"山區\",\n        description: \"遙遠的山區，有稀有的高海拔花種\",\n        distance: 5,\n        baseDuration: 180, // 秒\n        reward: {\n          common: { min: 0, max: 1 },\n          wildflower: { min: 1, max: 2 },\n          mountain: { min: 2, max: 4 },\n          rare: { min: 0.5, max: 1 },\n        },\n        risk: 0.25, // 25% 失敗風險\n        beeCount: 4,\n      },\n    },\n\n    // 已收集的蜂蜜記錄\n    honeyCollected: {\n      common: 0,\n      wildflower: 0,\n      mountain: 0,\n      rare: 0,\n    },\n\n    missionStats: {\n      totalMissions: 0,\n      successMissions: 0,\n      failedMissions: 0,\n    },\n    missionHistory: [], // 最近任務的歷史記錄\n  },\n\n  getters: {\n    canStartMission(state, getters, rootState, rootGetters) {\n      if (state.selectedArea === null) return false;\n\n      const areaData = state.areas[state.selectedArea];\n      const minBeesNeeded = areaData.beeCount;\n      const availableBees = rootGetters[\"bees/availableBees\"];\n\n      return (\n        availableBees >= minBeesNeeded &&\n        state.activeMissions.length < state.maxMissions\n      );\n    },\n\n    foragingStats(state) {\n      return {\n        totalMissions: state.activeMissions.length,\n        maxMissions: state.maxMissions,\n        totalHoneyCollected: Object.values(state.honeyCollected).reduce(\n          (a, b) => a + b,\n          0\n        ),\n      };\n    },\n  },\n\n  mutations: {\n    SET_SELECTED_AREA(state, area) {\n      state.selectedArea = area;\n    },\n\n    START_MISSION(state, mission) {\n      state.activeMissions.push(mission);\n    },\n\n    COMPLETE_MISSION(state, missionId) {\n      const index = state.activeMissions.findIndex((m) => m.id === missionId);\n      if (index !== -1) {\n        state.activeMissions.splice(index, 1);\n      }\n    },\n\n    ADD_COLLECTED_HONEY(state, { type, amount }) {\n      state.honeyCollected[type] += amount;\n    },\n\n    SET_FORAGING_DATA(state, data) {\n      if (data.activeMissions) state.activeMissions = data.activeMissions;\n      if (data.selectedArea) state.selectedArea = data.selectedArea;\n      if (data.honeyCollected) state.honeyCollected = data.honeyCollected;\n      if (data.maxMissions) state.maxMissions = data.maxMissions;\n      if (data.missionHistory) {\n        console.log(\"設置任務歷史記錄:\", data.missionHistory);\n        state.missionHistory = data.missionHistory;\n      }\n      if (data.missionStats) {\n        console.log(\"設置任務統計:\", data.missionStats);\n        state.missionStats = data.missionStats;\n      }\n    },\n\n    ADD_MISSION_RECORD(state, record) {\n      // 更新統計\n      state.missionStats.totalMissions++;\n      if (record.success) {\n        state.missionStats.successMissions++;\n      } else {\n        state.missionStats.failedMissions++;\n      }\n\n      // 添加到歷史記錄（最多保留10條）\n      state.missionHistory.unshift(record);\n      if (state.missionHistory.length > 10) {\n        state.missionHistory.pop();\n      }\n    },\n  },\n\n  actions: {\n    // 選擇採蜜區域\n    selectArea({ commit }, area) {\n      commit(\"SET_SELECTED_AREA\", area);\n    },\n\n    // 開始採蜜任務\n    startForagingMission(\n      { state, commit, rootState, rootGetters, dispatch },\n      missionData\n    ) {\n      if (!rootGetters[\"foraging/canStartMission\"]) {\n        dispatch(\n          \"showNotification\",\n          {\n            message: \"無法開始採蜜任務！請確保有足夠的蜜蜂。\",\n            type: \"warning\",\n          },\n          { root: true }\n        );\n        return;\n      }\n\n      const area = missionData.area;\n      const areaData = state.areas[area];\n\n      const beesToAssign = missionData.bees;\n\n      // 根據選擇的時間長度調整基礎持續時間\n      let baseDuration = areaData.baseDuration;\n\n      if (missionData.duration === \"medium\") {\n        baseDuration = baseDuration * 2; // 中程任務時間加倍\n      } else if (missionData.duration === \"long\") {\n        baseDuration = baseDuration * 4; // 長程任務時間四倍\n      }\n\n      console.log(\n        `任務時間計算: 基礎=${areaData.baseDuration}, 選擇=${missionData.duration}, 計算後=${baseDuration}`\n      );\n\n      // 計算任務持續時間，受天氣影響\n      const weatherMultiplier = rootState.weather.effectMultiplier || 1.0;\n      const duration = Math.ceil(baseDuration / weatherMultiplier);\n\n      // 創建新任務\n      const mission = {\n        id: Date.now(), // 唯一ID\n        area: area,\n        bees: beesToAssign,\n        risk: missionData.risk,\n        duration: missionData.duration, // 保存時間類型，而不是秒數\n        durationSeconds: duration, // 保存實際秒數\n        startTime: Date.now(),\n        endTime: Date.now() + duration * 1000,\n        inProgress: true,\n      };\n\n      commit(\"START_MISSION\", mission);\n\n      commit(\"bees/ASSIGN_BEES\", beesToAssign, { root: true });\n\n      let timeDisplay;\n      if (duration < 60) {\n        timeDisplay = `${duration} 秒`;\n      } else {\n        const minutes = Math.floor(duration / 60);\n        const seconds = duration % 60;\n        timeDisplay =\n          seconds > 0 ? `${minutes} 分 ${seconds} 秒` : `${minutes} 分鐘`;\n      }\n\n      dispatch(\n        \"showNotification\",\n        {\n          message: `派出 ${missionData.bees} 隻蜜蜂去 ${areaData.name} 採蜜，預計需要 ${timeDisplay}`,\n          type: \"info\",\n        },\n        { root: true }\n      );\n\n      // 設置完成計時器\n      setTimeout(() => {\n        dispatch(\"completeMission\", mission.id);\n      }, duration * 1000);\n    },\n\n    // 完成採蜜任務\n    completeMission({ state, commit, dispatch }, missionId) {\n      const missionIndex = state.activeMissions.findIndex(\n        (m) => m.id === missionId\n      );\n      if (missionIndex === -1) return;\n\n      const mission = state.activeMissions[missionIndex];\n      const areaData = state.areas[mission.area];\n      const beesToReturn = mission.bees;\n\n      // 計算任務是否成功 (失敗率受天氣影響)\n      const roll = Math.random();\n      const success = roll > areaData.risk;\n\n      // 準備記錄對象 - 使用任務中的蜜蜂數量，而非區域默認值\n      const missionRecord = {\n        id: mission.id,\n        area: mission.area,\n        date: Date.now(),\n        bees: mission.bees, // 使用任務記錄的蜜蜂數量\n        risk: areaData.risk, // 使用任務記錄的風險等級\n        success: success,\n        rewards: {},\n        lostBees: 0,\n      };\n\n      if (success) {\n        // 計算獲得的蜂蜜\n        const rewards = {};\n        // let totalHoney = 0;\n\n        for (const [type, range] of Object.entries(areaData.reward)) {\n          if (range.max <= 0) continue;\n\n          const amount = Math.random() * (range.max - range.min) + range.min;\n          if (amount > 0) {\n            rewards[type] = Number(amount.toFixed(1));\n            // totalHoney += rewards[type];\n\n            // 添加到收集記錄\n            commit(\"ADD_COLLECTED_HONEY\", { type, amount: rewards[type] });\n\n            // 添加到蜂蜜庫存\n            commit(\n              \"honey/ADD_HONEY_BY_TYPE\",\n              { type, amount: rewards[type] },\n              { root: true }\n            );\n          }\n        }\n\n        // 添加獎勵到記錄\n        missionRecord.rewards = rewards;\n\n        commit(\"bees/RETURN_BEES\", beesToReturn, { root: true });\n\n        // 通知玩家\n        let rewardText = Object.entries(rewards)\n          .map(\n            ([type, amount]) =>\n              `${amount}kg ${\n                state.honeyTypes ? state.honeyTypes[type].name : type\n              }`\n          )\n          .join(\"、\");\n\n        dispatch(\n          \"showNotification\",\n          {\n            message: `採蜜成功！從 ${areaData.name} 收穫了 ${rewardText}，已存入蜂蜜倉庫`,\n            type: \"success\",\n          },\n          { root: true }\n        );\n      } else {\n        // 任務失敗 - 減輕懲罰\n\n        // 修改這裡：降低蜜蜂損失機率，根據區域風險調整\n        // 風險越高的區域，損失機率越高，但整體降低\n        const lossChance = Math.min(0.1, areaData.risk / 5); // 最高只有10%機率損失蜜蜂\n\n        // 如果派遣的蜜蜂超過最低需求，進一步降低損失風險\n        const extraBees = Math.max(0, mission.bees - areaData.beeCount);\n        const reducedLossChance =\n          extraBees > 0 ? lossChance * (1 - extraBees * 0.1) : lossChance;\n\n        // 最終損失機率不低於1%\n        const finalLossChance = Math.max(0.01, reducedLossChance);\n\n        // 決定是否損失蜜蜂\n        const lostBees = Math.random() < finalLossChance ? 1 : 0;\n\n        missionRecord.lostBees = lostBees;\n\n        // 歸還未損失的蜜蜂\n        const beesToReturn = mission.bees - lostBees;\n        if (beesToReturn > 0) {\n          commit(\"bees/RETURN_BEES\", beesToReturn, { root: true });\n        }\n\n        // 如果有損失蜜蜂，更新蜜蜂數量\n        if (lostBees > 0) {\n          commit(\"bees/REMOVE_BEES\", lostBees, { root: true });\n        }\n\n        // 任務失敗，但仍可能帶回一些蜂蜜 (約成功時的20%)\n        if (Math.random() < 0.5) {\n          // 50%機率帶回一些蜂蜜\n          const rewards = {};\n\n          for (const [type, range] of Object.entries(areaData.reward)) {\n            if (range.max <= 0) continue;\n\n            // 失敗時只能獲得20%的蜂蜜\n            const amount =\n              Math.random() * (range.max - range.min) * 0.2 + range.min * 0.2;\n            if (amount > 0.1) {\n              // 只有超過0.1kg才記錄，避免太小的數量\n              rewards[type] = Number(amount.toFixed(1));\n\n              // 添加到收集記錄\n              commit(\"ADD_COLLECTED_HONEY\", { type, amount: rewards[type] });\n\n              // 添加到蜂蜜庫存\n              commit(\n                \"honey/ADD_HONEY_BY_TYPE\",\n                { type, amount: rewards[type] },\n                { root: true }\n              );\n            }\n          }\n\n          // 添加獎勵到記錄\n          missionRecord.rewards = rewards;\n\n          // 如果有收集到蜂蜜，在通知中說明\n          const rewardText = Object.entries(rewards)\n            .filter(([, amount]) => amount > 0)\n            .map(\n              ([type, amount]) =>\n                `${amount}kg ${\n                  state.honeyTypes ? state.honeyTypes[type].name : type\n                }`\n            )\n            .join(\"、\");\n\n          dispatch(\n            \"showNotification\",\n            {\n              message: `採蜜失敗！蜜蜂們在 ${areaData.name} 遇到了困難${\n                lostBees > 0 ? `，損失了 ${lostBees} 隻蜜蜂` : \"\"\n              }${rewardText ? `，但仍帶回了一些蜂蜜：${rewardText}` : \"\"}`,\n              type: \"warning\",\n            },\n            { root: true }\n          );\n        } else {\n          dispatch(\n            \"showNotification\",\n            {\n              message: `採蜜失敗！蜜蜂們在 ${areaData.name} 遇到了困難${\n                lostBees > 0 ? `，損失了 ${lostBees} 隻蜜蜂` : \"\"\n              }`,\n              type: \"danger\",\n            },\n            { root: true }\n          );\n        }\n      }\n\n      // 添加任務記錄\n      commit(\"ADD_MISSION_RECORD\", missionRecord);\n\n      // 移除任務\n      commit(\"COMPLETE_MISSION\", missionId);\n\n      dispatch(\"achievements/checkAchievements\", null, { root: true });\n    },\n  },\n};\n","export default {\n    namespaced: true,\n  \n    state: {\n      currentChallenge: null,\n      challengeHidden: false,\n      lastChallengeTime: null\n    },\n  \n    getters: {\n      hasChallengeActive(state) {\n        return state.currentChallenge !== null && !state.challengeHidden;\n      }\n    },\n  \n    mutations: {\n      SET_CHALLENGE(state, challenge) {\n        state.currentChallenge = challenge;\n        state.challengeHidden = false;\n      },\n      \n      CLEAR_CHALLENGE(state) {\n        state.currentChallenge = null;\n      },\n      \n      HIDE_CHALLENGE(state) {\n        state.challengeHidden = true;\n      },\n      \n      SET_LAST_CHALLENGE_TIME(state, time) {\n        state.lastChallengeTime = time;\n      }\n    },\n  \n    actions: {\n      // 檢查是否可以觸發挑戰\n      maybeStartChallenge({ state, commit, dispatch, rootState }) {\n        // 如果已有挑戰，不再觸發\n        if (state.currentChallenge) {\n          return;\n        }\n        \n        // 記錄上次挑戰的時間\n        const lastChallengeTime = state.lastChallengeTime || 0;\n        const now = Date.now();\n        \n        // 確保至少間隔15分鐘才能觸發新挑戰\n        if (now - lastChallengeTime < 15 * 60 * 1000) {\n          return;\n        }\n        \n        // 根據蜜蜂數量調整挑戰機率 - 蜜蜂越多，挑戰越頻繁\n        // 基礎機率：5%，最高可達20%\n        let baseChance = 0.05;\n        \n        // 如果蜜蜂超過5隻，每多5隻增加5%機率，最高20%\n        if (rootState.bees.bees > 5) {\n          const additionalChance = Math.min(0.15, (rootState.bees.bees - 5) / 5 * 0.05);\n          baseChance += additionalChance;\n        }\n        \n        // 隨機決定是否觸發\n        if (Math.random() > baseChance) {\n          return;\n        }\n        \n        // 記錄此次挑戰時間\n        commit('SET_LAST_CHALLENGE_TIME', now);\n        \n        // 隨機選擇挑戰類型\n        const challengeTypes = [\"pest\", \"environmental\", \"weather\"];\n        const type = challengeTypes[Math.floor(Math.random() * challengeTypes.length)];\n        \n        // 創建對應類型的挑戰\n        switch (type) {\n          case \"pest\":\n            dispatch('createPestChallenge');\n            break;\n          case \"environmental\":\n            dispatch('createEnvironmentalChallenge');\n            break;\n          case \"weather\":\n            dispatch('createWeatherChallenge', { weatherType: rootState.weather.current });\n            break;\n        }\n      },\n      \n      // 創建蜂螨挑戰\n      createPestChallenge({ commit, dispatch }) {\n        // 蜂螨爆發挑戰\n        const pestChallenge = {\n          id: \"mite\",\n          title: \"蜂螨爆發\",\n          description: \"蜂螨正在侵擾你的蜂群，可能導致蜜蜂生病或死亡！\",\n          severity: \"high\",\n          solutions: [\n            {\n              name: \"購買藥劑治療 (¥150)\",\n              cost: 150,\n              effectText: \"蜂群已被治療，健康恢復中\",\n              action: \"treatWithMedicine\"\n            },\n            {\n              name: \"自然療法 (¥50，風險更高)\",\n              cost: 50,\n              effectText: \"自然療法效果有限，蜂群仍有風險\",\n              action: \"treatNaturally\"\n            }\n          ]\n        };\n  \n        commit(\"SET_CHALLENGE\", {\n          type: \"pest\",\n          data: pestChallenge\n        });\n  \n        dispatch(\"showNotification\", {\n          message: `警告：${pestChallenge.title}！`,\n          type: \"warning\"\n        }, { root: true });\n      },\n      \n      // 創建環境挑戰\n      createEnvironmentalChallenge({ commit, dispatch }) {\n        // 環境問題挑戰\n        const envChallenges = [\n          {\n            id: \"pollution\",\n            title: \"環境污染\",\n            description: \"附近的工廠排放污染物，影響了蜜蜂的健康！\",\n            solutions: [\n              {\n                name: \"安裝過濾裝置 (¥200)\",\n                cost: 200,\n                effectText: \"過濾裝置有效阻擋了污染物\",\n                action: \"installFilter\"\n              },\n              {\n                name: \"遷移蜂巢 (¥100)\",\n                cost: 100,\n                effectText: \"蜂巢遷移到了更安全的地方\",\n                action: \"relocateHive\"\n              }\n            ]\n          },\n          {\n            id: \"pesticide\",\n            title: \"農藥噴灑\",\n            description: \"附近農田噴灑農藥，對蜜蜂造成傷害！\",\n            solutions: [\n              {\n                name: \"與農民協商 (¥120)\",\n                cost: 120,\n                effectText: \"成功說服農民使用有機方法\",\n                action: \"negotiateWithFarmers\"\n              },\n              {\n                name: \"加強蜂巢防護 (¥80)\",\n                cost: 80,\n                effectText: \"簡單的防護措施，效果有限\",\n                action: \"enhanceProtection\"\n              }\n            ]\n          }\n        ];\n  \n        // 隨機選擇一個環境挑戰\n        const envChallenge = envChallenges[Math.floor(Math.random() * envChallenges.length)];\n  \n        commit(\"SET_CHALLENGE\", {\n          type: \"environmental\",\n          data: envChallenge\n        });\n  \n        dispatch(\"showNotification\", {\n          message: `警告：${envChallenge.title}！`,\n          type: \"warning\"\n        }, { root: true });\n      },\n      \n      // 創建天氣挑戰\n      createWeatherChallenge({ commit, dispatch, rootState }, { weatherType }) {\n        // 天氣挑戰 - 可以使用傳入的天氣類型或隨機選擇一種惡劣天氣\n        if (!weatherType || rootState.weather.weatherTypes[weatherType].effect > 0.7) {\n          // 如果未指定天氣類型或當前天氣不是惡劣天氣，隨機選擇一種惡劣天氣\n          const badWeatherTypes = [\"rainy\", \"drought\", \"cold\"];\n          weatherType = badWeatherTypes[Math.floor(Math.random() * badWeatherTypes.length)];\n        }\n  \n        let weatherChallenge = {\n          id: weatherType,\n          title: rootState.weather.weatherTypes[weatherType].name,\n          description: `${rootState.weather.weatherTypes[weatherType].description}，蜂蜜產量降低到${rootState.weather.weatherTypes[weatherType].effect * 100}%！`,\n          solutions: []\n        };\n        \n        // 根據天氣類型添加解決方案\n        switch (weatherType) {\n          case \"rainy\":\n            weatherChallenge.solutions = [\n              {\n                name: \"安裝雨棚 (¥100)\",\n                cost: 100,\n                effectText: \"雨棚保護了蜂巢，產量恢復正常\",\n                action: \"installShelter\"\n              },\n              {\n                name: \"提供額外食物 (¥50)\",\n                cost: 50,\n                effectText: \"蜜蜂不需要飛行就能獲得食物\",\n                action: \"provideExtraFood\"\n              }\n            ];\n            break;\n          case \"drought\":\n            weatherChallenge.solutions = [\n              {\n                name: \"安裝灌溉系統 (¥150)\",\n                cost: 150,\n                effectText: \"花朵得到水分，花蜜產量回升\",\n                action: \"installIrrigation\"\n              },\n              {\n                name: \"種植耐旱植物 (¥80)\",\n                cost: 80,\n                effectText: \"新植物提供了穩定但有限的花蜜來源\",\n                action: \"plantDroughtResistant\"\n              }\n            ];\n            break;\n          case \"cold\":\n            weatherChallenge.solutions = [\n              {\n                name: \"安裝保溫設備 (¥120)\",\n                cost: 120,\n                effectText: \"蜂巢溫度升高，蜜蜂活動恢復正常\",\n                action: \"installHeater\"\n              },\n              {\n                name: \"提供高能量食物 (¥70)\",\n                cost: 70,\n                effectText: \"蜜蜂獲得額外能量抵抗寒冷\",\n                action: \"provideEnergyFood\"\n              }\n            ];\n            break;\n          default:\n            weatherChallenge.solutions = [\n              {\n                name: \"一般應對措施 (¥100)\",\n                cost: 100,\n                effectText: \"基本措施，有助於緩解問題\",\n                action: \"generalMeasures\"\n              }\n            ];\n        }\n  \n        commit(\"SET_CHALLENGE\", {\n          type: \"weather\",\n          data: weatherChallenge\n        });\n  \n        dispatch(\"showNotification\", {\n          message: `警告：${weatherChallenge.title}天氣挑戰！`,\n          type: \"warning\"\n        }, { root: true });\n      },\n      \n      // 應用挑戰解決方案\n      applySolution({ state, commit, dispatch, rootState }, solution) {\n        if (!state.currentChallenge) return;\n        \n        // 檢查是否有足夠的金錢\n        if (rootState.money < solution.cost) {\n          dispatch('showNotification', {\n            message: '金錢不足，無法應用此解決方案！',\n            type: 'warning'\n          }, { root: true });\n          return;\n        }\n        \n        // 扣除費用\n        commit('REMOVE_MONEY', solution.cost, { root: true });\n        \n        // 根據挑戰類型和解決方案執行相應操作\n        const challenge = state.currentChallenge;\n        console.log(`Applying solution for challenge: ${challenge.type}`, solution);\n        \n        // 根據解決方案的 action 執行不同效果\n        switch (solution.action) {\n          // 蜂螨挑戰解決方案\n          case \"treatWithMedicine\":\n            // 高效藥物治療，健康恢復更多\n            commit('bees/SET_HIVE_HEALTH', rootState.bees.hiveHealth + 20, { root: true });\n            break;\n          case \"treatNaturally\":\n            // 自然療法，健康恢復有限\n            commit('bees/SET_HIVE_HEALTH', rootState.bees.hiveHealth + 5, { root: true });\n            // 自然療法有機會失敗\n            if (Math.random() < 0.3) {\n              dispatch('showNotification', {\n                message: '自然療法效果有限，一些蜜蜂受到影響！',\n                type: 'warning'\n              }, { root: true });\n              commit('bees/REMOVE_BEES', 1, { root: true });\n            }\n            break;\n            \n          // 環境挑戰解決方案\n          case \"installFilter\":\n          case \"negotiateWithFarmers\":\n            // 高效解決方案，恢復健康並增加效率\n            commit('bees/SET_HIVE_HEALTH', rootState.bees.hiveHealth + 15, { root: true });\n            commit('bees/SET_HONEY_EFFICIENCY', rootState.bees.honeyPerBeePerMinute * 1.1, { root: true });\n            break;\n          case \"relocateHive\":\n          case \"enhanceProtection\":\n            // 基本解決方案，只恢復健康\n            commit('bees/SET_HIVE_HEALTH', rootState.bees.hiveHealth + 10, { root: true });\n            break;\n            \n          // 天氣挑戰解決方案\n          case \"installShelter\":\n          case \"installIrrigation\":\n          case \"installHeater\":\n            // 高效天氣解決方案，改善天氣效果\n            dispatch('weather/improveWeather', null, { root: true });\n            break;\n          case \"provideExtraFood\":\n          case \"plantDroughtResistant\":\n          case \"provideEnergyFood\":\n          case \"generalMeasures\": {\n            // 基本天氣解決方案，小幅改善效果\n            const currentWeather = rootState.weather.current;\n            const currentEffect = rootState.weather.effectMultiplier;\n            commit('weather/SET_WEATHER', {\n              current: currentWeather,\n              effectMultiplier: Math.min(1.0, currentEffect * 1.3), // 提高30%效果，但不超過1.0\n              daysRemaining: 1\n            }, { root: true });\n            break;\n          }\n        }\n        \n        // 通知玩家\n        dispatch('showNotification', {\n          message: `已應用解決方案：${solution.effectText}`,\n          type: 'success'\n        }, { root: true });\n        \n        // 清除挑戰\n        commit('CLEAR_CHALLENGE');\n        dispatch(\"achievements/checkAchievements\", null, { root: true });\n      },\n      \n      // 強制觸發挑戰 (測試用)\n      forceStartChallenge({ dispatch }) {\n        // 隨機選擇挑戰類型\n        const challengeTypes = [\"pest\", \"environmental\", \"weather\"];\n        const type = challengeTypes[Math.floor(Math.random() * challengeTypes.length)];\n        \n        // 創建對應類型的挑戰\n        switch (type) {\n          case \"pest\":\n            dispatch('createPestChallenge');\n            break;\n          case \"environmental\":\n            dispatch('createEnvironmentalChallenge');\n            break;\n          case \"weather\":\n            dispatch('createWeatherChallenge', { weatherType: null });\n            break;\n        }\n      },\n      \n      // 隱藏挑戰\n      hideChallenge({ commit }) {\n        commit('HIDE_CHALLENGE');\n      }\n    }\n  };","export default {\n    namespaced: true,\n  \n    state: {\n      current: 'sunny',\n      effectMultiplier: 1.0,\n      daysRemaining: 0,\n      \n      // 天氣類型定義\n      weatherTypes: {\n        sunny: {\n          name: '晴朗',\n          description: '陽光明媚，蜜蜂活動頻繁',\n          icon: '☀️',\n          effect: 1.0\n        },\n        cloudy: {\n          name: '多雲',\n          description: '天空多雲，蜜蜂活動略受影響',\n          icon: '☁️',\n          effect: 0.9\n        },\n        rainy: {\n          name: '下雨',\n          description: '雨水阻礙了蜜蜂採集花蜜',\n          icon: '🌧️',\n          effect: 0.6\n        },\n        windy: {\n          name: '大風',\n          description: '強風使蜜蜂難以飛行',\n          icon: '🌬️',\n          effect: 0.7\n        },\n        drought: {\n          name: '乾旱',\n          description: '乾旱使花朵缺乏花蜜',\n          icon: '🏜️',\n          effect: 0.5\n        },\n        cold: {\n          name: '寒冷',\n          description: '低溫使蜜蜂活動減緩',\n          icon: '❄️',\n          effect: 0.4\n        },\n        perfect: {\n          name: '完美天氣',\n          description: '理想的蜜蜂採集天氣，花朵盛開',\n          icon: '🌈',\n          effect: 1.2\n        }\n      }\n    },\n  \n    getters: {\n      // 獲取當前天氣數據\n      currentWeather(state) {\n        return {\n          type: state.current,\n          name: state.weatherTypes[state.current].name,\n          description: state.weatherTypes[state.current].description,\n          icon: state.weatherTypes[state.current].icon,\n          effect: state.effectMultiplier\n        };\n      },\n      \n      // 檢查是否為惡劣天氣\n      isBadWeather(state) {\n        return state.effectMultiplier < 0.8;\n      },\n      \n      // 天氣效果顏色\n      weatherEffectColor(state) {\n        if (state.effectMultiplier > 1.0) {\n          return '#4caf50'; // 綠色 (好)\n        } else if (state.effectMultiplier > 0.7) {\n          return '#ff9800'; // 橙色 (一般)\n        } else {\n          return '#e53935'; // 紅色 (差)\n        }\n      }\n    },\n  \n    mutations: {\n      SET_WEATHER(state, { current, effectMultiplier, daysRemaining }) {\n        state.current = current;\n        state.effectMultiplier = effectMultiplier;\n        state.daysRemaining = daysRemaining || 0;\n      },\n      \n      DECREASE_WEATHER_DAYS(state) {\n        if (state.daysRemaining > 0) {\n          state.daysRemaining--;\n        }\n      },\n      \n      RESET_WEATHER(state) {\n        state.current = 'sunny';\n        state.effectMultiplier = 1.0;\n        state.daysRemaining = 0;\n      }\n    },\n  \n    actions: {\n      // 隨機更換天氣\n      changeWeather({ state, commit, dispatch }) {\n        // 如果當前天氣還有剩餘天數，不更換\n        if (state.daysRemaining > 0) {\n          commit('DECREASE_WEATHER_DAYS');\n          return;\n        }\n        \n        // 天氣類型概率分佈 (加權隨機)\n        const weatherChances = {\n          sunny: 0.3,    // 30% 機率\n          cloudy: 0.25,  // 25% 機率\n          rainy: 0.15,   // 15% 機率\n          windy: 0.15,   // 15% 機率\n          drought: 0.05, // 5% 機率\n          cold: 0.05,    // 5% 機率\n          perfect: 0.05  // 5% 機率\n        };\n        \n        // 隨機選擇天氣\n        const roll = Math.random();\n        let selectedWeather = 'sunny'; // 默認晴天\n        let cumulativeChance = 0;\n        \n        for (const [weather, chance] of Object.entries(weatherChances)) {\n          cumulativeChance += chance;\n          if (roll < cumulativeChance) {\n            selectedWeather = weather;\n            break;\n          }\n        }\n        \n        // 設置新天氣，持續1-3天\n        const duration = Math.floor(Math.random() * 3) + 1;\n        \n        commit('SET_WEATHER', {\n          current: selectedWeather,\n          effectMultiplier: state.weatherTypes[selectedWeather].effect,\n          daysRemaining: duration\n        });\n        \n        // 通知玩家\n        dispatch('showNotification', {\n          message: `天氣變化: ${state.weatherTypes[selectedWeather].name} - ${state.weatherTypes[selectedWeather].description}`,\n          type: 'info'\n        }, { root: true });\n        \n        // 如果是惡劣天氣，可能觸發天氣挑戰\n        if (state.weatherTypes[selectedWeather].effect < 0.7 && Math.random() < 0.3) {\n          dispatch('challenges/createWeatherChallenge', {\n            weatherType: selectedWeather\n          }, { root: true });\n        }\n      },\n      \n      // 通過特殊能力改善天氣\n      improveWeather({ state, commit, dispatch }) {\n        // 如果已經是最佳天氣，不改變\n        if (state.current === 'perfect') {\n          dispatch('showNotification', {\n            message: '天氣已經是最佳狀態！',\n            type: 'info'\n          }, { root: true });\n          return;\n        }\n        \n        // 設置為完美天氣，持續1天\n        commit('SET_WEATHER', {\n          current: 'perfect',\n          effectMultiplier: state.weatherTypes['perfect'].effect,\n          daysRemaining: 1\n        });\n        \n        dispatch('showNotification', {\n          message: '使用了天氣改善技術！現在是完美的採蜜天氣',\n          type: 'success'\n        }, { root: true });\n      }\n    }\n  };","export default {\n    namespaced: true,\n  \n    state: {\n      currentTask: null,\n      clicksCompleted: 0,\n      clicksNeeded: 0,\n      taskProgress: 0,\n      taskName: '',\n      onComplete: null\n    },\n  \n    getters: {\n      isTaskActive(state) {\n        return state.currentTask !== null;\n      },\n      \n      taskProgressPercentage(state) {\n        if (state.clicksNeeded === 0) return 0;\n        return (state.clicksCompleted / state.clicksNeeded) * 100;\n      }\n    },\n  \n    mutations: {\n      SET_TASK(state, { taskName, clicksNeeded, onComplete }) {\n        state.currentTask = true;\n        state.clicksCompleted = 0;\n        state.clicksNeeded = clicksNeeded;\n        state.taskProgress = 0;\n        state.taskName = taskName;\n        state.onComplete = onComplete;\n      },\n      \n      CLEAR_TASK(state) {\n        state.currentTask = null;\n        state.clicksCompleted = 0;\n        state.clicksNeeded = 0;\n        state.taskProgress = 0;\n        state.taskName = '';\n        state.onComplete = null;\n      },\n      \n      PROGRESS_TASK(state) {\n        state.clicksCompleted++;\n        state.taskProgress = (state.clicksCompleted / state.clicksNeeded) * 100;\n      }\n    },\n  \n    actions: {\n      // 開始一個勞力任務\n      startLaborTask({ state, commit }, { taskName, clicksNeeded, onComplete }) {\n        // 如果已有進行中的任務，拒絕新任務\n        if (state.currentTask !== null) {\n          return;\n        }\n        \n        // 設置新任務\n        commit('SET_TASK', { taskName, clicksNeeded, onComplete });\n      },\n      \n      // 完成勞力任務的一次點擊\n      progressTask({ state, commit }) {\n        if (state.currentTask === null) return;\n        \n        commit('PROGRESS_TASK');\n        \n        // 檢查是否完成任務\n        if (state.clicksCompleted >= state.clicksNeeded) {\n          // 執行完成回調\n          if (typeof state.onComplete === 'function') {\n            state.onComplete();\n          }\n          \n          // 清除任務\n          commit('CLEAR_TASK');\n        }\n      },\n      \n      // 取消當前任務\n      cancelTask({ state, commit, dispatch }) {\n        if (state.currentTask === null) return;\n        \n        const taskName = state.taskName;\n        commit('CLEAR_TASK');\n        \n        dispatch('showNotification', {\n          message: `取消任務: ${taskName}`,\n          type: 'warning'\n        }, { root: true });\n      }\n    }\n  };","export default {\n    namespaced: true,\n    \n    state: {\n      tasks: [\n        {\n          id: 'daily-collect-honey',\n          title: '蜜蜂勤勞家',\n          description: '今日收集蜂蜜',\n          type: 'daily',\n          currentValue: 0,\n          targetValue: 10,\n          unit: 'kg',\n          rewards: {\n            money: 100\n          },\n          canClaim: false,\n          completed: false,\n          createdAt: Date.now(),\n          expiresAt: Date.now() + 86400000 // 24小時後過期\n        },\n        {\n          id: 'daily-sell-honey',\n          title: '養蜂商人',\n          description: '今日出售蜂蜜',\n          type: 'daily',\n          currentValue: 0,\n          targetValue: 5,\n          unit: 'kg',\n          rewards: {\n            money: 150\n          },\n          canClaim: false,\n          completed: false,\n          createdAt: Date.now(),\n          expiresAt: Date.now() + 86400000 // 24小時後過期\n        },\n        {\n          id: 'weekly-fulfill-orders',\n          title: '訂單達人',\n          description: '完成客戶訂單',\n          type: 'weekly',\n          currentValue: 0,\n          targetValue: 5,\n          unit: '筆',\n          rewards: {\n            money: 500,\n            honey: 5\n          },\n          canClaim: false,\n          completed: false,\n          createdAt: Date.now(),\n          expiresAt: Date.now() + 604800000 // 7天後過期\n        },\n        {\n          id: 'main-buy-bees',\n          title: '蜂巢擴張',\n          description: '購買蜜蜂',\n          type: 'main',\n          currentValue: 0,\n          targetValue: 10,\n          unit: '隻',\n          rewards: {\n            money: 200,\n            bees: 1\n          },\n          canClaim: false,\n          completed: false,\n          createdAt: Date.now()\n        },\n        {\n          id: 'main-upgrade-hive',\n          title: '蜂巢升級',\n          description: '升級你的蜂巢',\n          type: 'main',\n          currentValue: 0,\n          targetValue: 3,\n          unit: '次',\n          rewards: {\n            money: 300,\n            honey: 10\n          },\n          canClaim: false,\n          completed: false,\n          createdAt: Date.now()\n        }\n      ],\n      newTaskNotification: false\n    },\n    \n    getters: {\n      dailyTasks: state => state.tasks.filter(task => task.type === 'daily'),\n      weeklyTasks: state => state.tasks.filter(task => task.type === 'weekly'),\n      mainTasks: state => state.tasks.filter(task => task.type === 'main'),\n      \n      // 檢查是否有新任務可以領取\n      hasNewTasks: state => {\n        return state.tasks.some(task => task.canClaim && !task.completed);\n      }\n    },\n    \n    mutations: {\n      UPDATE_TASK_PROGRESS(state, { taskId, progress }) {\n        const task = state.tasks.find(task => task.id === taskId);\n        if (task) {\n          task.currentValue = Math.min(task.currentValue + progress, task.targetValue);\n          task.canClaim = task.currentValue >= task.targetValue && !task.completed;\n        }\n      },\n      \n      CLAIM_TASK_REWARD(state, taskId) {\n        const task = state.tasks.find(task => task.id === taskId);\n        if (task && task.canClaim) {\n          task.completed = true;\n          task.canClaim = false;\n        }\n      },\n      \n      REFRESH_TASKS(state) {\n        // 檢查過期任務並重新生成\n        const now = Date.now();\n        \n        // 處理每日任務\n        state.tasks = state.tasks.filter(task => {\n          // 保留未過期或已完成的主線任務\n          if (task.type === 'main') {\n            return true;\n          }\n          \n          // 保留未過期的每日/每週任務\n          if (!task.expiresAt || task.expiresAt > now) {\n            return true;\n          }\n          \n          // 過期任務不保留\n          return false;\n        });\n        \n        // 添加新的每日任務（如果需要）\n        if (state.tasks.filter(t => t.type === 'daily').length < 3) {\n          // 生成新的每日任務\n          // 這裡可以添加更多隨機任務\n        }\n        \n        // 添加新的每週任務（如果需要）\n        if (state.tasks.filter(t => t.type === 'weekly').length < 2) {\n          // 生成新的每週任務\n        }\n      },\n      \n      SET_NEW_TASK_NOTIFICATION(state, value) {\n        state.newTaskNotification = value;\n      },\n\n      SET_TASKS_DATA(state, tasksData) {\n        if (tasksData.tasks) {\n          state.tasks = tasksData.tasks;\n        }\n        if (tasksData.newTaskNotification !== undefined) {\n          state.newTaskNotification = tasksData.newTaskNotification;\n        }\n      },\n      \n      // 設置任務列表\n      SET_TASKS(state, tasks) {\n        state.tasks = tasks;\n      },\n    },\n    \n    actions: {\n      // 初始化任務系統\n      initTasks({ commit }) {\n        commit('REFRESH_TASKS');\n      },\n      \n      // 更新任務進度\n      updateProgress({ commit }, { taskId, progress }) {\n        commit('UPDATE_TASK_PROGRESS', { taskId, progress });\n      },\n      \n      // 領取任務獎勵\n      claimReward({ commit, state, dispatch }, taskId) {\n        const task = state.tasks.find(task => task.id === taskId);\n        if (!task || !task.canClaim) return;\n        \n        // 發放獎勵\n        if (task.rewards.money) {\n          dispatch('ADD_MONEY', task.rewards.money, { root: true });\n        }\n        \n        if (task.rewards.honey) {\n          // 添加蜂蜜到倉庫\n          dispatch('honey/ADD_HONEY_BY_TYPE', { \n            type: 'common', \n            amount: task.rewards.honey \n          }, { root: true });\n        }\n        \n        if (task.rewards.bees) {\n          dispatch('bees/ADD_BEES', task.rewards.bees, { root: true });\n        }\n        \n        // 標記任務為已完成\n        commit('CLAIM_TASK_REWARD', taskId);\n        \n        // 顯示通知\n        dispatch('showNotification', {\n          message: `已完成任務：${task.title}，獲得獎勵！`,\n          type: 'success'\n        }, { root: true });\n      },\n      \n      // 刷新任務\n      refreshTasks({ commit }) {\n        commit('REFRESH_TASKS');\n      },\n      \n      // 監聽各種遊戲事件並更新對應任務\n      trackCollectHoney({ commit }, amount) {\n        // 更新收集蜂蜜相關任務\n        commit('UPDATE_TASK_PROGRESS', { \n          taskId: 'daily-collect-honey', \n          progress: amount \n        });\n      },\n      \n      trackSellHoney({ commit }, amount) {\n        // 更新出售蜂蜜相關任務\n        commit('UPDATE_TASK_PROGRESS', { \n          taskId: 'daily-sell-honey', \n          progress: amount \n        });\n      },\n      \n      trackFulfillOrder({ commit }) {\n        // 更新完成訂單相關任務\n        commit('UPDATE_TASK_PROGRESS', { \n          taskId: 'weekly-fulfill-orders', \n          progress: 1 \n        });\n      },\n      \n      trackBuyBee({ commit }) {\n        // 更新購買蜜蜂相關任務\n        commit('UPDATE_TASK_PROGRESS', { \n          taskId: 'main-buy-bees', \n          progress: 1 \n        });\n      },\n      \n      trackUpgradeHive({ commit }) {\n        // 更新升級蜂巢相關任務\n        commit('UPDATE_TASK_PROGRESS', { \n          taskId: 'main-upgrade-hive', \n          progress: 1 \n        });\n      }\n    }\n  };","export default {\n    namespaced: true,\n    \n    state: {\n      achievements: [\n        // 蜜蜂相關成就\n        {\n          id: 'bees-10',\n          title: '小型蜂場',\n          description: '擁有10隻蜜蜂',\n          hint: '擴大你的蜂場規模',\n          icon: '🐝',\n          category: 'bees',\n          unlocked: false,\n          unlockedAt: null,\n          progress: 0,\n          target: 10\n        },\n        {\n          id: 'bees-50',\n          title: '中型蜂場',\n          description: '擁有50隻蜜蜂',\n          hint: '繼續擴大你的蜂場',\n          icon: '🐝',\n          category: 'bees',\n          unlocked: false,\n          unlockedAt: null,\n          progress: 0,\n          target: 50\n        },\n        {\n          id: 'bees-100',\n          title: '大型蜂場',\n          description: '擁有100隻蜜蜂',\n          hint: '建立一個龐大的蜂群',\n          icon: '🐝',\n          category: 'bees',\n          unlocked: false,\n          unlockedAt: null,\n          progress: 0,\n          target: 100\n        },\n        {\n          id: 'hive-level-5',\n          title: '高級蜂巢',\n          description: '將蜂巢升級到5級',\n          hint: '提升你的蜂巢等級',\n          icon: '🏠',\n          category: 'bees',\n          unlocked: false,\n          unlockedAt: null,\n          progress: 0,\n          target: 5\n        },\n        \n        // 蜂蜜相關成就\n        {\n          id: 'honey-100',\n          title: '蜂蜜初學者',\n          description: '累計收集100kg蜂蜜',\n          hint: '收集更多蜂蜜',\n          icon: '🍯',\n          category: 'honey',\n          unlocked: false,\n          unlockedAt: null,\n          progress: 0,\n          target: 100\n        },\n        {\n          id: 'honey-1000',\n          title: '蜂蜜專家',\n          description: '累計收集1000kg蜂蜜',\n          hint: '成為蜂蜜生產專家',\n          icon: '🍯',\n          category: 'honey',\n          unlocked: false,\n          unlockedAt: null,\n          progress: 0,\n          target: 1000\n        },\n        {\n          id: 'honey-storage-200',\n          title: '擴充倉庫',\n          description: '將蜂蜜倉庫容量擴充到200kg',\n          hint: '擴大你的儲存空間',\n          icon: '📦',\n          category: 'honey',\n          unlocked: false,\n          unlockedAt: null,\n          progress: 0,\n          target: 200\n        },\n        \n        // 採集相關成就\n        {\n          id: 'foraging-10',\n          title: '探險家',\n          description: '完成10次採蜜任務',\n          hint: '派遣蜜蜂出去採集',\n          icon: '🌿',\n          category: 'foraging',\n          unlocked: false,\n          unlockedAt: null,\n          progress: 0,\n          target: 10\n        },\n        {\n          id: 'rare-honey-5',\n          title: '稀有蜂蜜收藏家',\n          description: '收集5kg稀有蜂蜜',\n          hint: '尋找珍貴的花蜜來源',\n          icon: '🌸',\n          category: 'foraging',\n          unlocked: false,\n          unlockedAt: null,\n          progress: 0,\n          target: 5\n        },\n        \n        // 訂單相關成就\n        {\n          id: 'orders-10',\n          title: '可靠供應商',\n          description: '完成10筆訂單',\n          hint: '滿足客戶的需求',\n          icon: '📝',\n          category: 'orders',\n          unlocked: false,\n          unlockedAt: null,\n          progress: 0,\n          target: 10\n        },\n        {\n          id: 'orders-50',\n          title: '蜂蜜企業家',\n          description: '完成50筆訂單',\n          hint: '經營一個成功的蜂蜜生意',\n          icon: '💼',\n          category: 'orders',\n          unlocked: false,\n          unlockedAt: null,\n          progress: 0,\n          target: 50\n        },\n        \n        // 挑戰相關成就\n        {\n          id: 'challenges-5',\n          title: '問題解決者',\n          description: '成功應對5次養蜂挑戰',\n          hint: '解決蜂場遇到的各種挑戰',\n          icon: '⚔️',\n          category: 'challenges',\n          unlocked: false,\n          unlockedAt: null,\n          progress: 0,\n          target: 5\n        },\n        {\n          id: 'challenges-health-100',\n          title: '健康蜂場',\n          description: '保持蜂巢健康度在100%持續一週',\n          hint: '關注蜂巢的健康狀況',\n          icon: '❤️',\n          category: 'challenges',\n          unlocked: false,\n          unlockedAt: null,\n          progress: 0,\n          target: 7\n        }\n      ],\n      newAchievementNotification: false,\n      totalHoneyCollected: 0,\n      totalOrdersFulfilled: 0,\n      totalChallengesSolved: 0,\n      healthyDaysCount: 0\n    },\n    \n    getters: {\n      unlockedAchievements: state => state.achievements.filter(a => a.unlocked),\n      \n      hasNewAchievements: state => state.newAchievementNotification\n    },\n    \n    mutations: {\n      UPDATE_ACHIEVEMENT_PROGRESS(state, { achievementId, progress }) {\n        const achievement = state.achievements.find(a => a.id === achievementId);\n        if (achievement && !achievement.unlocked) {\n          achievement.progress = Math.min(achievement.progress + progress, achievement.target);\n          \n          // 檢查是否解鎖\n          if (achievement.progress >= achievement.target) {\n            achievement.unlocked = true;\n            achievement.unlockedAt = Date.now();\n            state.newAchievementNotification = true;\n          }\n        }\n      },\n      \n      UPDATE_BEES_COUNT(state, count) {\n        // 更新蜜蜂數量相關成就\n        state.achievements.forEach(achievement => {\n          if (['bees-10', 'bees-50', 'bees-100'].includes(achievement.id) && !achievement.unlocked) {\n            achievement.progress = count;\n            if (count >= achievement.target) {\n              achievement.unlocked = true;\n              achievement.unlockedAt = Date.now();\n              state.newAchievementNotification = true;\n            }\n          }\n        });\n      },\n      \n      UPDATE_HIVE_LEVEL(state, level) {\n        const achievement = state.achievements.find(a => a.id === 'hive-level-5');\n        if (achievement && !achievement.unlocked) {\n          achievement.progress = level;\n          if (level >= achievement.target) {\n            achievement.unlocked = true;\n            achievement.unlockedAt = Date.now();\n            state.newAchievementNotification = true;\n          }\n        }\n      },\n      \n      UPDATE_HONEY_COLLECTED(state, amount) {\n        state.totalHoneyCollected += amount;\n        \n        // 更新蜂蜜收集相關成就\n        state.achievements.forEach(achievement => {\n          if (['honey-100', 'honey-1000'].includes(achievement.id) && !achievement.unlocked) {\n            achievement.progress = state.totalHoneyCollected;\n            if (state.totalHoneyCollected >= achievement.target) {\n              achievement.unlocked = true;\n              achievement.unlockedAt = Date.now();\n              state.newAchievementNotification = true;\n            }\n          }\n        });\n      },\n      \n      UPDATE_HONEY_STORAGE_CAPACITY(state, capacity) {\n        const achievement = state.achievements.find(a => a.id === 'honey-storage-200');\n        if (achievement && !achievement.unlocked) {\n          achievement.progress = capacity;\n          if (capacity >= achievement.target) {\n            achievement.unlocked = true;\n            achievement.unlockedAt = Date.now();\n            state.newAchievementNotification = true;\n          }\n        }\n      },\n      \n      UPDATE_FORAGING_MISSIONS(state, count) {\n        const achievement = state.achievements.find(a => a.id === 'foraging-10');\n        if (achievement && !achievement.unlocked) {\n          achievement.progress = count;\n          if (count >= achievement.target) {\n            achievement.unlocked = true;\n            achievement.unlockedAt = Date.now();\n            state.newAchievementNotification = true;\n          }\n        }\n      },\n      \n      UPDATE_RARE_HONEY(state, amount) {\n        const achievement = state.achievements.find(a => a.id === 'rare-honey-5');\n        if (achievement && !achievement.unlocked) {\n          achievement.progress = amount;\n          if (amount >= achievement.target) {\n            achievement.unlocked = true;\n            achievement.unlockedAt = Date.now();\n            state.newAchievementNotification = true;\n          }\n        }\n      },\n      \n      UPDATE_ORDERS_FULFILLED(state, count) {\n        state.totalOrdersFulfilled = count;\n        \n        // 更新訂單相關成就\n        state.achievements.forEach(achievement => {\n          if (['orders-10', 'orders-50'].includes(achievement.id) && !achievement.unlocked) {\n            achievement.progress = state.totalOrdersFulfilled;\n            if (state.totalOrdersFulfilled >= achievement.target) {\n              achievement.unlocked = true;\n              achievement.unlockedAt = Date.now();\n              state.newAchievementNotification = true;\n            }\n          }\n        });\n      },\n      \n      UPDATE_CHALLENGES_SOLVED(state, count) {\n        state.totalChallengesSolved = count;\n        \n        const achievement = state.achievements.find(a => a.id === 'challenges-5');\n        if (achievement && !achievement.unlocked) {\n          achievement.progress = count;\n          if (count >= achievement.target) {\n            achievement.unlocked = true;\n            achievement.unlockedAt = Date.now();\n            state.newAchievementNotification = true;\n          }\n        }\n      },\n      \n      UPDATE_HEALTHY_DAYS(state, health) {\n        // 如果健康度是100%，增加天數\n        if (health === 100) {\n          state.healthyDaysCount++;\n        } else {\n          // 否則重置計數\n          state.healthyDaysCount = 0;\n        }\n        \n        const achievement = state.achievements.find(a => a.id === 'challenges-health-100');\n        if (achievement && !achievement.unlocked) {\n          achievement.progress = state.healthyDaysCount;\n          if (state.healthyDaysCount >= achievement.target) {\n            achievement.unlocked = true;\n            achievement.unlockedAt = Date.now();\n            state.newAchievementNotification = true;\n          }\n        }\n      },\n      \n      CLEAR_NEW_ACHIEVEMENT_NOTIFICATION(state) {\n        state.newAchievementNotification = false;\n      }\n    },\n    \n    actions: {\n      // 初始化成就系統\n      initAchievements({ commit, rootState }) {\n        // 初始化時更新成就進度\n        if (rootState.bees) {\n          commit('UPDATE_BEES_COUNT', rootState.bees.bees);\n          commit('UPDATE_HIVE_LEVEL', rootState.bees.hiveLevel);\n        }\n        \n        if (rootState.honey) {\n          commit('UPDATE_HONEY_STORAGE_CAPACITY', rootState.honey.capacity);\n        }\n        \n        if (rootState.orders) {\n          commit('UPDATE_ORDERS_FULFILLED', rootState.orders.completed.length);\n        }\n      },\n      \n      // 檢查和更新成就\n      checkAchievements({ commit, rootState }) {\n        // 這個方法可以定期調用，檢查遊戲狀態並更新相應的成就進度\n        if (rootState.bees) {\n          commit('UPDATE_BEES_COUNT', rootState.bees.bees);\n          commit('UPDATE_HIVE_LEVEL', rootState.bees.hiveLevel);\n          commit('UPDATE_HEALTHY_DAYS', rootState.bees.hiveHealth);\n        }\n        \n        if (rootState.honey) {\n          commit('UPDATE_HONEY_STORAGE_CAPACITY', rootState.honey.capacity);\n          \n          // 檢查稀有蜂蜜數量\n          if (rootState.honey.inventory && rootState.honey.inventory.rare) {\n            commit('UPDATE_RARE_HONEY', rootState.honey.inventory.rare);\n          }\n        }\n        \n        if (rootState.foraging && rootState.foraging.missionStats) {\n          commit('UPDATE_FORAGING_MISSIONS', rootState.foraging.missionStats.totalMissions);\n        }\n        \n        if (rootState.orders) {\n          commit('UPDATE_ORDERS_FULFILLED', rootState.orders.completed.length);\n        }\n        \n        if (rootState.challenges) {\n          commit('UPDATE_CHALLENGES_SOLVED', rootState.challenges.solvedChallenges || 0);\n        }\n      },\n      \n      // 清除新成就通知\n      clearNewAchievementNotification({ commit }) {\n        commit('CLEAR_NEW_ACHIEVEMENT_NOTIFICATION');\n      },\n      \n      // 記錄收集的蜂蜜\n      trackHoneyCollected({ commit }, amount) {\n        commit('UPDATE_HONEY_COLLECTED', amount);\n      }\n    }\n  };","// 存檔插件\nexport const saveGamePlugin = (store) => {\n  // 定期自動保存\n  setInterval(() => {\n    store.dispatch(\"persistence/saveGame\");\n  }, 60000); // 每分鐘保存一次\n};\n\nexport default {\n  namespaced: true,\n\n  actions: {\n    // 保存遊戲\n    saveGame({ rootState }) {\n      try {\n        // 獲取當前登入的用戶\n        const currentUser = localStorage.getItem(\"beekeeper_current_user\");\n        if (!currentUser) {\n          console.error(\"沒有登入用戶，無法保存遊戲\");\n          return;\n        }\n\n        const gameData = {\n          money: rootState.money,\n\n          // 蜜蜂模組\n          bees: {\n            bees: rootState.bees.bees,\n            assignedBees: rootState.bees.assignedBees || 0, // 添加這行\n            hiveLevel: rootState.bees.hiveLevel,\n            hiveHealth: rootState.bees.hiveHealth,\n            hiveCapacity: rootState.bees.hiveCapacity,\n            honeyPerBeePerMinute: rootState.bees.honeyPerBeePerMinute,\n            costs: rootState.bees.costs,\n          },\n\n          // 蜂蜜模組\n          honey: {\n            production: rootState.honey.production,\n            inventory: rootState.honey.inventory,\n            capacity: rootState.honey.capacity,\n          },\n\n          // 訂單模組\n          orders: {\n            active: rootState.orders.active,\n            completed: rootState.orders.completed,\n            maxActive: rootState.orders.maxActive,\n          },\n\n          // 採蜜模組\n          foraging: {\n            areas: rootState.foraging.areas,\n            activeMissions: rootState.foraging.activeMissions,\n            selectedArea: rootState.foraging.selectedArea,\n            maxMissions: rootState.foraging.maxMissions,\n            honeyCollected: rootState.foraging.honeyCollected,\n            missionStats: rootState.foraging.missionStats,\n            missionHistory: rootState.foraging.missionHistory,\n          },\n\n          // 挑戰模組\n          challenges: {\n            currentChallenge: rootState.challenges.currentChallenge,\n            lastChallengeTime: rootState.challenges.lastChallengeTime,\n          },\n\n          laborTasks: {\n            currentTask: rootState.laborTasks.currentTask,\n            clicksCompleted: rootState.laborTasks.clicksCompleted,\n            clicksNeeded: rootState.laborTasks.clicksNeeded,\n            taskName: rootState.laborTasks.taskName,\n          },\n\n          tasks: {\n            tasks: rootState.tasks.tasks,\n            newTaskNotification: rootState.tasks.newTaskNotification,\n          },\n\n          // 天氣模組\n          weather: rootState.weather,\n\n          savedAt: Date.now(),\n        };\n\n        // 使用用戶名作為存檔的key，每個用戶有自己的存檔\n        localStorage.setItem(\n          `beekeeperGame_${currentUser}`,\n          JSON.stringify(gameData)\n        );\n        console.log(`遊戲已保存到帳號: ${currentUser}`);\n      } catch (e) {\n        console.error(\"保存遊戲時出錯:\", e);\n      }\n    },\n\n    // 載入遊戲\n    loadGame({ commit, dispatch }) {\n      // 獲取當前登入的用戶\n      const currentUser = localStorage.getItem(\"beekeeper_current_user\");\n      if (!currentUser) {\n        console.error(\"沒有登入用戶，無法載入遊戲\");\n        return;\n      }\n\n      // 檢查是否是新遊戲\n      const isNewGame = localStorage.getItem(\"beekeeper_new_game\") === \"true\";\n      if (isNewGame) {\n        // 新遊戲，初始化默認數據\n        commit(\"bees/SET_BEES\", 3, { root: true });\n        // 移除新遊戲標記\n        localStorage.removeItem(\"beekeeper_new_game\");\n        return;\n      }\n\n      // 載入該用戶的存檔\n      const savedGame = localStorage.getItem(`beekeeperGame_${currentUser}`);\n      if (!savedGame) {\n        // 該用戶沒有存檔，初始化默認數據\n        commit(\"bees/SET_BEES\", 3, { root: true });\n        return;\n      }\n\n      try {\n        const gameData = JSON.parse(savedGame);\n\n        // 載入金錢\n        if (gameData.money !== undefined) {\n          commit(\"SET_MONEY\", gameData.money, { root: true });\n        }\n\n        // 載入蜜蜂模組數據\n        if (gameData.bees) {\n          const bees = gameData.bees;\n\n          if (bees.bees !== undefined) {\n            commit(\"bees/SET_BEES\", bees.bees, { root: true });\n          }\n\n          if (bees.hiveLevel !== undefined) {\n            commit(\"bees/SET_HIVE_LEVEL\", bees.hiveLevel, { root: true });\n          }\n\n          if (bees.hiveHealth !== undefined) {\n            commit(\"bees/SET_HIVE_HEALTH\", bees.hiveHealth, { root: true });\n          }\n\n          if (bees.assignedBees !== undefined) {\n            commit(\"bees/SET_ASSIGNED_BEES\", bees.assignedBees, { root: true });\n          }\n\n          if (bees.hiveCapacity !== undefined) {\n            commit(\"bees/SET_HIVE_CAPACITY\", bees.hiveCapacity, { root: true });\n          }\n\n          if (bees.honeyPerBeePerMinute !== undefined) {\n            commit(\"bees/SET_HONEY_EFFICIENCY\", bees.honeyPerBeePerMinute, {\n              root: true,\n            });\n          }\n\n          if (bees.costs) {\n            commit(\"bees/SET_COSTS\", bees.costs, { root: true });\n          }\n        }\n\n        // 載入蜂蜜模組數據\n        if (gameData.honey) {\n          const honey = gameData.honey;\n\n          // 檢查是新格式還是舊格式\n          if (typeof honey === \"object\" && honey.inventory) {\n            commit(\"honey/SET_HONEY_CAPACITY\", honey.capacity || 100, {\n              root: true,\n            });\n\n            // 設置蜂蜜產出\n            if (honey.production !== undefined) {\n              commit(\"honey/SET_PRODUCTION\", honey.production, { root: true });\n            } else if (honey.total !== undefined) {\n              // 兼容舊格式\n              commit(\"honey/SET_PRODUCTION\", honey.total, { root: true });\n            }\n\n            // 按類型添加蜂蜜到庫存\n            for (const type in honey.inventory) {\n              if (honey.inventory[type] > 0) {\n                commit(\n                  \"honey/ADD_HONEY_BY_TYPE\",\n                  {\n                    type,\n                    amount: honey.inventory[type],\n                  },\n                  { root: true }\n                );\n              }\n            }\n          } else {\n            commit(\"honey/SET_PRODUCTION\", honey, { root: true });\n          }\n        }\n\n        // 載入訂單模組數據\n        if (gameData.orders) {\n          commit(\"orders/SET_ORDERS\", gameData.orders, { root: true });\n        }\n\n        // 載入採蜜模組數據\n        if (gameData.foraging) {\n          const foragingData = {\n            activeMissions: gameData.foraging.activeMissions || [],\n            selectedArea: gameData.foraging.selectedArea || null,\n            honeyCollected: gameData.foraging.honeyCollected || {\n              common: 0,\n              wildflower: 0,\n              mountain: 0,\n              rare: 0,\n            },\n            maxMissions: gameData.foraging.maxMissions || 3,\n            missionHistory: gameData.foraging.missionHistory || [],\n            missionStats: gameData.foraging.missionStats || {\n              totalMissions: 0,\n              successMissions: 0,\n              failedMissions: 0,\n            },\n          };\n\n          commit(\"foraging/SET_FORAGING_DATA\", foragingData, { root: true });\n        }\n\n        // 載入任務模組數據\n        if (gameData.tasks) {\n          // 直接設置整個任務狀態\n          commit(\"tasks/SET_TASKS_DATA\", gameData.tasks, { root: true });\n\n          // 可選：分別設置任務列表和通知狀態\n          if (gameData.tasks.tasks) {\n            commit(\"tasks/SET_TASKS\", gameData.tasks.tasks, { root: true });\n          }\n\n          if (gameData.tasks.newTaskNotification !== undefined) {\n            commit(\n              \"tasks/SET_NEW_TASK_NOTIFICATION\",\n              gameData.tasks.newTaskNotification,\n              { root: true }\n            );\n          }\n        }\n\n        // 載入挑戰模組數據\n        if (gameData.challenges) {\n          if (gameData.challenges.currentChallenge) {\n            commit(\n              \"challenges/SET_CHALLENGE\",\n              gameData.challenges.currentChallenge,\n              { root: true }\n            );\n          }\n\n          if (gameData.challenges.lastChallengeTime) {\n            commit(\n              \"challenges/SET_LAST_CHALLENGE_TIME\",\n              gameData.challenges.lastChallengeTime,\n              { root: true }\n            );\n          }\n        }\n\n        // 載入天氣模組數據\n        if (gameData.weather) {\n          commit(\"weather/SET_WEATHER\", gameData.weather, { root: true });\n        }\n\n        console.log(`已載入帳號 ${currentUser} 的遊戲數據`);\n      } catch (e) {\n        console.error(\"加載遊戲數據時出錯:\", e);\n        // 初始化默認數據\n        commit(\"bees/ADD_BEES\", 3, { root: true });\n      }\n      dispatch(\"achievements/checkAchievements\", null, { root: true });\n    },\n\n    // 刪除存檔 (可選)\n    deleteGameSave(_, username) {\n      if (!username) {\n        console.error(\"沒有指定用戶名，無法刪除存檔\");\n        return;\n      }\n\n      localStorage.removeItem(`beekeeperGame_${username}`);\n      console.log(`已刪除用戶 ${username} 的遊戲存檔`);\n    },\n  },\n};\n","import { createStore } from \"vuex\";\n\n// 導入各模組\nimport beesModule from \"./modules/bees\";\nimport honeyModule from \"./modules/honey\";\nimport ordersModule from \"./modules/orders\";\nimport foragingModule from \"./modules/foraging\";\nimport challengesModule from \"./modules/challenges\";\nimport weatherModule from \"./modules/weather\";\nimport laborTasksModule from \"./modules/laborTasks\";\nimport tasks from \"./modules/tasks\";\nimport achievements from \"./modules/achievements\";\n\n// 導入存檔系統\nimport persistenceModule from \"./helpers/persistence\";\nimport { saveGamePlugin } from \"./helpers/persistence\";\n\nexport default createStore({\n  // 根 state\n  state: {\n    currentBeeFact:\n      \"蜜蜂是地球上最重要的授粉者之一，對全球農業生產和生態系統至關重要。\",\n    money: 100,\n  },\n\n  // 根 mutations\n  mutations: {\n    SET_BEE_FACT(state, fact) {\n      state.currentBeeFact = fact;\n    },\n\n    SET_MONEY(state, amount) {\n      state.money = amount;\n    },\n\n    ADD_MONEY(state, amount) {\n      state.money += amount;\n    },\n\n    REMOVE_MONEY(state, amount) {\n      state.money = Math.max(0, state.money - amount);\n    },\n  },\n\n  // 根 actions\n  actions: {\n    // 顯示通知 (全局可用)\n    showNotification(context, { message, type = \"info\" }) {\n      const notificationArea = document.querySelector(\".notification-area\");\n      if (!notificationArea) {\n        console.error(\"無法找到通知區域元素\");\n        return;\n      }\n\n      const notification = document.createElement(\"div\");\n      notification.className = `notification ${type}`;\n      notification.textContent = message;\n\n      notificationArea.appendChild(notification);\n\n      // 3秒後自動消失\n      setTimeout(() => {\n        notification.style.animation = \"slideOut 0.3s forwards\";\n        setTimeout(() => {\n          notification.remove();\n        }, 300);\n      }, 3000);\n    },\n\n    // 初始化遊戲\n    setupGame({ commit, dispatch }) {\n      console.log(\"設置遊戲邏輯...\");\n\n      // 設置遊戲循環\n      setInterval(() => {\n        // 生產蜂蜜\n        dispatch(\"honey/produceHoney\");\n\n        // 自動保存遊戲 (每分鐘保存一次)\n        if (Date.now() % 60000 < 1000) {\n          dispatch(\"persistence/saveGame\");\n          dispatch(\"achievements/checkAchievements\");\n        }\n\n        // 隨機觸發挑戰 (每3分鐘有機率)\n        if (Date.now() % 180000 < 1000) {\n          dispatch(\"challenges/maybeStartChallenge\");\n        }\n      }, 1000);\n\n      // 訂單系統初始化\n      dispatch(\"orders/initOrders\");\n      dispatch(\"tasks/initTasks\");\n      dispatch(\"achievements/initAchievements\");\n\n      // 更新養蜂知識\n      const beeFacts = [\n        \"一隻工蜂一生中只能生產約1茶匙的蜂蜜。\",\n        \"蜂后一天可以產下多達2000顆蛋，是自己體重兩倍的蛋量。\",\n        \"蜜蜂會跳舞來告訴其他蜜蜂花蜜的位置。\",\n        \"蜜蜂翅膀每秒鐘可以拍打200次。\",\n        \"一個健康的蜂巢在夏季可以有高達80,000隻蜜蜂。\",\n      ];\n\n      commit(\n        \"SET_BEE_FACT\",\n        beeFacts[Math.floor(Math.random() * beeFacts.length)]\n      );\n\n      // 設置定時更新養蜂知識\n      setInterval(() => {\n        commit(\n          \"SET_BEE_FACT\",\n          beeFacts[Math.floor(Math.random() * beeFacts.length)]\n        );\n      }, 60000);\n    },\n\n    // 初始化遊戲 (先載入數據，再設置邏輯)\n    initGame({ dispatch }) {\n      console.log(\"初始化遊戲...\");\n      return dispatch(\"loadGame\").then(() => {\n        dispatch(\"setupGame\");\n      });\n    },\n\n    // 保存遊戲 (委派給 persistence 模組)\n    saveGame({ dispatch }) {\n      dispatch(\"persistence/saveGame\");\n    },\n\n    // 載入遊戲 (委派給 persistence 模組)\n    loadGame({ dispatch }) {\n      dispatch(\"persistence/loadGame\");\n    },\n  },\n\n  // 註冊模組\n  modules: {\n    bees: beesModule,\n    honey: honeyModule,\n    orders: ordersModule,\n    foraging: foragingModule,\n    challenges: challengesModule,\n    weather: weatherModule,\n    laborTasks: laborTasksModule,\n    persistence: persistenceModule,\n    tasks: tasks,\n    achievements: achievements,\n  },\n\n  // 插件\n  plugins: [saveGamePlugin],\n});\n","import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport './assets/global.css'\n\ncreateApp(App).use(store).use(router).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/beekeeper/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkbeekeeper\"] = self[\"webpackChunkbeekeeper\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(7345); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_router_view","script","__exports__","render","class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","src","_imports_0","alt","onSubmit","_cache","_withModifiers","args","$options","handleSubmit","_hoisted_3","type","_normalizeClass","active","$data","mode","onClick","$event","_hoisted_4","for","id","username","placeholder","maxlength","required","_hoisted_5","password","_hoisted_6","characterName","_createCommentVNode","message","messageType","disabled","canSubmit","_hoisted_7","name","data","accounts","computed","this","trim","length","mounted","loadAccounts","$route","query","error","decodeURIComponent","$router","replace","path","methods","loginUser","registerUser","localStorage","setItem","setTimeout","push","created","Date","now","saveAccounts","accountsData","getItem","JSON","parse","e","console","lastUser","stringify","ref","_toDisplayString","_ctx","currentWeather","icon","availableBees","_hoisted_8","_imports_1","_hoisted_9","honey","toFixed","_hoisted_10","_imports_2","_hoisted_11","money","_hoisted_12","_hoisted_13","_hoisted_14","_createTextVNode","style","_normalizeStyle","healthColorStyle","hiveHealth","hiveLevel","honeyPerBeePerMinute","hiveCapacity","_hoisted_15","collectHoney","canCollectHoney","_hoisted_16","buyBee","canBuyBee","beeCost","_hoisted_17","upgradeHive","canUpgradeHive","hiveUpgradeCost","_hoisted_18","checkHive","openForagingModal","openHoneyStorage","disableButtons","hasNewOrders","_hoisted_20","_hoisted_19","_hoisted_21","_hoisted_22","openTasksPanel","hasNewTasks","_hoisted_23","openAchievementsPanel","hasNewAchievements","_hoisted_24","_hoisted_25","currentChallenge","title","description","_hoisted_26","_Fragment","_renderList","solutions","solution","index","applySolution","_hoisted_27","challengeHidden","_hoisted_28","currentBeeFact","isModalActive","hidden","closeAllModals","_createVNode","_component_foraging_modal","isForagingModalActive","onCloseModal","closeForagingModal","onStartMission","startForagingMission","onSellAllHoney","sellAllHoney","onUpdateSelectedArea","updateSelectedArea","$store","state","laborTasks","currentTask","_component_labor_task_modal","task","onComplete","completeLaborTask","_component_honey_storage_modal","isHoneyStorageModalActive","closeHoneyStorageModal","_component_tasks_modal","isTasksModalActive","closeTasksModal","_component_achievements_modal","isAchievementsModalActive","closeAchievementsModal","$props","isActive","$emit","tabs","tab","activeTab","areas","area","locked","selectedArea","selectArea","yield","riskLevel","risk","time","min","max","maxBeesAssignable","beesAssigned","number","missionDuration","expectedYield","missionRisk","startMission","canStartMission","activeMissions","localMissions","mission","_hoisted_29","getAreaName","_hoisted_30","formatTime","timeRemaining","_hoisted_31","bees","_hoisted_32","width","progress","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","missionStats","totalMissions","_hoisted_37","_hoisted_38","successMissions","_hoisted_39","_hoisted_40","failedMissions","_hoisted_41","_hoisted_42","calculateSuccessRate","_hoisted_43","_hoisted_44","honeyTypes","backgroundColor","getHoneyColor","_hoisted_45","_hoisted_46","getHoneyAmount","_hoisted_47","calculateHoneyValue","_hoisted_48","calculateTotalHoney","calculateTotalValue","_hoisted_49","_hoisted_50","missionHistory","_hoisted_51","_hoisted_52","success","_hoisted_53","_hoisted_54","formatDate","date","_hoisted_55","_hoisted_56","_hoisted_57","formatHoneyGain","rewards","item","_hoisted_58","_hoisted_59","zero","amount","_hoisted_60","lostBees","props","Boolean","default","honeyColors","common","wildflower","mountain","rare","minLevel","price","missionTimer","mapState","storeSelectedArea","foraging","foragingAreas","honeyCollected","storedMissionStats","storedMissionHistory","calculateAssignedBees","beeCount","Math","find","a","yieldValue","watch","newVal","handler","deep","immediate","missions","log","updateLocalMissions","checkAndUnlockAreas","startMissionTimer","updated","beforeUnmount","clearMissionTimer","mapActions","baseDuration","missionData","parseInt","duration","$nextTick","modalContent","document","querySelector","scrollTo","top","behavior","forEach","areaId","seconds","mins","floor","secs","toString","padStart","honeyType","undefined","rate","h","parseFloat","total","Object","values","reduce","sum","val","timestamp","getMonth","getDate","getHours","getMinutes","allTypes","map","endTime","totalDuration","startTime","elapsed","setInterval","clearInterval","taskName","performWork","completed","isCompleted","buttonText","localClicksDone","currentClicks","clicksCompleted","clicksNeeded","remainingClicks","closeModal","capacityPercentage","totalHoney","honeyCapacity","upgradeStorage","canUpgradeStorage","upgradeCost","inventory","honeyTypeColor","honeyTypeName","honeyTypeDescription","step","sellAmounts","sellHoney","canSell","calculateSellValue","allHoneyTypes","activeOrders","order","customer","formatRemainingTime","expiryTime","requirements","req","reqIndex","baseValue","bonusValue","totalValue","fulfillOrder","canFulfillOrder","capacity","orders","color","basePrice","dispatch","remainingMs","hours","minutes","filteredTasks","calculateProgress","currentValue","targetValue","unit","claimReward","canClaim","tasks","filter","claimTaskReward","refreshTasks","newValue","unlockedCount","totalAchievements","completionPercentage","categories","category","activeCategory","filteredAchievements","achievement","unlocked","hint","target","unlockedAt","achievements","mapGetters","unlockedAchievements","round","toLocaleDateString","components","ForagingModal","LaborTaskModal","HoneyStorageModal","TasksModal","AchievementsModal","production","costs","bee","hiveUpgrade","challenges","laborTask","weatherTypes","weather","then","setupGame","renderBees","$watch","window","addEventListener","saveGameBeforeUnload","removeEventListener","event","hiveContainer","$refs","firstChild","removeChild","containerWidth","clientWidth","containerHeight","clientHeight","safeMargin","i","createElement","className","left","random","animationDelay","posX","posY","distToLeft","distToRight","distToTop","distToBottom","maxSafeDistance","flyDistance","setProperty","centerDistance","sqrt","pow","animationDuration","appendChild","routes","redirect","component","LoginView","GameView","router","createRouter","history","createWebHistory","process","namespaced","assignedBees","getters","rootState","mutations","SET_BEES","ADD_BEES","REMOVE_BEES","ASSIGN_BEES","count","RETURN_BEES","SET_HIVE_LEVEL","level","SET_HIVE_CAPACITY","SET_HONEY_EFFICIENCY","efficiency","SET_COSTS","SET_HIVE_HEALTH","UPGRADE_HIVE","SET_ASSIGNED_BEES","actions","commit","rootGetters","root","availableSpace","ADD_HONEY_BY_TYPE","REMOVE_HONEY_BY_TYPE","amountToRemove","SET_HONEY_CAPACITY","SET_PRODUCTION","ADD_PRODUCTION","CLEAR_PRODUCTION","produceHoney","weatherMultiplier","effectMultiplier","honeyProduction","upgradeHoneyStorage","cost","newCapacity","sellHoneyByType","value","honeyToCollect","collectableAmount","typeChances","honeyDistribution","remainingHoney","collectedAmount","chance","entries","typeAmount","messageText","details","join","totalAmount","maxActive","ADD_ORDER","REMOVE_ORDER","splice","COMPLETE_ORDER","SET_ORDERS","initOrders","initialOrderCount","checkExpiredOrders","expiredOrders","orderIndex","generateOrder","keys","requiredTypes","typeCount","some","bonusPercent","customers","expiryHours","createdAt","canFulfill","extraRewards","text","reward","newHealth","maxMissions","garden","distance","meadow","forest","areaData","minBeesNeeded","foragingStats","totalHoneyCollected","b","SET_SELECTED_AREA","START_MISSION","COMPLETE_MISSION","missionId","findIndex","m","ADD_COLLECTED_HONEY","SET_FORAGING_DATA","ADD_MISSION_RECORD","record","unshift","pop","beesToAssign","ceil","durationSeconds","inProgress","timeDisplay","completeMission","missionIndex","beesToReturn","roll","missionRecord","range","Number","rewardText","lossChance","extraBees","reducedLossChance","finalLossChance","lastChallengeTime","hasChallengeActive","SET_CHALLENGE","challenge","CLEAR_CHALLENGE","HIDE_CHALLENGE","SET_LAST_CHALLENGE_TIME","maybeStartChallenge","baseChance","additionalChance","challengeTypes","weatherType","current","createPestChallenge","pestChallenge","severity","effectText","action","createEnvironmentalChallenge","envChallenges","envChallenge","createWeatherChallenge","effect","badWeatherTypes","weatherChallenge","currentEffect","daysRemaining","forceStartChallenge","hideChallenge","sunny","cloudy","rainy","windy","drought","cold","perfect","isBadWeather","weatherEffectColor","SET_WEATHER","DECREASE_WEATHER_DAYS","RESET_WEATHER","changeWeather","weatherChances","selectedWeather","cumulativeChance","improveWeather","taskProgress","isTaskActive","taskProgressPercentage","SET_TASK","CLEAR_TASK","PROGRESS_TASK","startLaborTask","progressTask","cancelTask","expiresAt","newTaskNotification","dailyTasks","weeklyTasks","mainTasks","UPDATE_TASK_PROGRESS","taskId","CLAIM_TASK_REWARD","REFRESH_TASKS","t","SET_NEW_TASK_NOTIFICATION","SET_TASKS_DATA","tasksData","SET_TASKS","initTasks","updateProgress","trackCollectHoney","trackSellHoney","trackFulfillOrder","trackBuyBee","trackUpgradeHive","newAchievementNotification","totalOrdersFulfilled","totalChallengesSolved","healthyDaysCount","UPDATE_ACHIEVEMENT_PROGRESS","achievementId","UPDATE_BEES_COUNT","includes","UPDATE_HIVE_LEVEL","UPDATE_HONEY_COLLECTED","UPDATE_HONEY_STORAGE_CAPACITY","UPDATE_FORAGING_MISSIONS","UPDATE_RARE_HONEY","UPDATE_ORDERS_FULFILLED","UPDATE_CHALLENGES_SOLVED","UPDATE_HEALTHY_DAYS","health","CLEAR_NEW_ACHIEVEMENT_NOTIFICATION","initAchievements","checkAchievements","solvedChallenges","clearNewAchievementNotification","trackHoneyCollected","saveGamePlugin","store","saveGame","currentUser","gameData","savedAt","loadGame","isNewGame","removeItem","savedGame","foragingData","deleteGameSave","_","createStore","SET_BEE_FACT","fact","SET_MONEY","ADD_MONEY","REMOVE_MONEY","showNotification","context","notificationArea","notification","textContent","animation","remove","beeFacts","initGame","modules","beesModule","honeyModule","ordersModule","foragingModule","challengesModule","weatherModule","laborTasksModule","persistence","persistenceModule","plugins","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","r","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}